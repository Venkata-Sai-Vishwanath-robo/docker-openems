import{A as He,Ac as lt,B as Se,Bb as ee,C as j,Da as ue,Ec as Q,Fa as Je,Ga as Xe,H as Le,Ha as et,Hb as it,I as Be,Ia as U,Ja as P,Ka as V,L as J,M,N as E,O as ce,Pa as tt,Qa as fe,Qb as nt,R as $e,Ra as pe,W as Ne,X as Ue,Y as Qe,Z as X,_ as B,aa as he,ab as de,b as je,ba as d,c as Me,ca as R,da as v,e as L,ea as qe,f as k,fa as w,g as re,ha as F,ia as We,ja as Ze,jb as me,k as Pe,kb as ge,m as oe,n as Ve,nb as ye,nc as C,o as Ie,oc as rt,q as Te,ra as ze,rb as st,rc as ot,s as ae,t as le,ta as Ke,tc as I,ua as Ye,v as Ge,va as $,vc as T,w as K,wc as at,ya as N,z as Y}from"./chunk-UEHZAF3Y.js";import{a as m,b as S,d as De,e as z}from"./chunk-OQDXQ3X5.js";var yt=["container"];function bt(n,s){}function Ct(n,s){}var vt=["*"];function Ft(n,s){if(n&1&&N(0,"formly-field",0),n&2){let e=s.$implicit;$("field",e)}}var ct=["fieldComponent"];function _t(n,s){let e=n._updateTreeValidity.bind(n);n._updateTreeValidity=()=>{},s(),n._updateTreeValidity=e}function Et(n,s,e){if(s.id)return s.id;let t=s.type;return!t&&s.template&&(t="template"),t instanceof J&&(t=t.prototype.constructor.name),[n,t,s.key,e].join("_")}function c(n){return!x(n.key)&&n.key!==""&&(!Array.isArray(n.key)||n.key.length>0)}function D(n){if(!c(n))return[];if(n._keyPath?.key!==n.key){let s=[];if(typeof n.key=="string"){let e=n.key.indexOf("[")===-1?n.key:n.key.replace(/\[(\w+)\]/g,".$1");s=e.indexOf(".")!==-1?e.split("."):[e]}else Array.isArray(n.key)?s=n.key.slice(0):s=[`${n.key}`];f(n,"_keyPath",{key:n.key,path:s})}return n._keyPath.path.slice(0)}var xe=["required","pattern","minLength","maxLength","min","max"];function H(n,s){let e=D(n);if(e.length===0)return;let t=n;for(;t.parent;)t=t.parent,e=[...D(t),...e];if(s===void 0&&n.resetOnHide){let i=e.pop(),r=e.reduce((o,a)=>o[a]||{},t.model);delete r[i];return}Ot(t.model,e,s)}function Ot(n,s,e){for(let t=0;t<s.length-1;t++){let i=s[t];(!n[i]||!b(n[i]))&&(n[i]=/^\d+$/.test(s[t+1])?[]:{}),n=n[i]}n[s[s.length-1]]=y(e)}function O(n){let s=n.parent?n.parent.model:n.model;for(let e of D(n)){if(!s)return s;s=s[e]}return s}function G(n,...s){return s.forEach(e=>{for(let t in e)x(n[t])||xt(n[t])?n[t]=y(e[t]):kt(n[t],e[t])&&G(n[t],e[t])}),n}function x(n){return n==null}function te(n){return n===void 0}function xt(n){return n===""}function be(n){return typeof n=="function"}function kt(n,s){return b(n)&&b(s)&&Object.getPrototypeOf(n)===Object.getPrototypeOf(s)&&!(Array.isArray(n)||Array.isArray(s))}function b(n){return n!=null&&typeof n=="object"}function Rt(n){return!!n&&typeof n.then=="function"}function y(n){if(!b(n)||k(n)||n instanceof X||n.changingThisBreaksApplicationSecurity||["RegExp","FileList","File","Blob"].indexOf(n.constructor?.name)!==-1)return n;if(n instanceof Set)return new Set(n);if(n instanceof Map)return new Map(n);if(n instanceof Uint8Array)return new Uint8Array(n);if(n instanceof Uint16Array)return new Uint16Array(n);if(n instanceof Uint32Array)return new Uint32Array(n);if(n._isAMomentObject&&be(n.clone))return n.clone();if(n instanceof ot)return null;if(n instanceof Date)return new Date(n.getTime());if(Array.isArray(n))return n.slice(0).map(t=>y(t));let s=Object.getPrototypeOf(n),e=Object.create(s);return e=Object.setPrototypeOf(e,s),Object.keys(n).reduce((t,i)=>{let r=Object.getOwnPropertyDescriptor(n,i);return r.get?Object.defineProperty(t,i,r):t[i]=y(n[i]),t},e)}function f(n,s,e){Object.defineProperty(n,s,{enumerable:!1,writable:!0,configurable:!0}),n[s]=e}function ke(n,s,e){let t=[],i=()=>{t.forEach(o=>o()),t=[]},r=u(n,s,({firstChange:o,currentValue:a})=>{!o&&e(),i(),b(a)&&a.constructor.name==="Object"&&Object.keys(a).forEach(l=>{t.push(ke(n,[...s,l],e))})});return()=>{r.unsubscribe(),i()}}function u(n,s,e){n._observers||f(n,"_observers",{});let t=n;for(let a=0;a<s.length-1;a++)(!t[s[a]]||!b(t[s[a]]))&&(t[s[a]]=/^\d+$/.test(s[a+1])?[]:{}),t=t[s[a]];let i=s[s.length-1],r=s.join(".");n._observers[r]||(n._observers[r]={value:t[i],onChange:[]});let o=n._observers[r];if(t[i]!==o.value&&(o.value=t[i]),e&&o.onChange.indexOf(e)===-1&&(o.onChange.push(e),e({currentValue:o.value,firstChange:!0}),o.onChange.length>=1&&b(t))){let{enumerable:a}=Object.getOwnPropertyDescriptor(t,i)||{enumerable:!0};Object.defineProperty(t,i,{enumerable:a,configurable:!0,get:()=>o.value,set:l=>{if(l!==o.value){let h=o.value;o.value=l,o.onChange.forEach(g=>g({previousValue:h,currentValue:l,firstChange:!1}))}}})}return{setValue(a,l=!0){if(a===o.value)return;let h=o.value;o.value=a,o.onChange.forEach(g=>{g!==e&&l&&g({previousValue:h,currentValue:a,firstChange:!1})})},unsubscribe(){o.onChange=o.onChange.filter(a=>a!==e),o.onChange.length===0&&delete n._observers[r]}}}function ut(n,s){if(s=Array.isArray(s)?s.join("."):s,!!n.fieldGroup)for(let e=0,t=n.fieldGroup.length;e<t;e++){let i=n.fieldGroup[e],r=Array.isArray(i.key)?i.key.join("."):i.key;if(r===s)return i;if(i.fieldGroup&&(x(r)||s.indexOf(`${r}.`)===0)){let o=ut(i,x(r)?s:s.slice(r.length+1));if(o)return o}}}function Ce(n){n._componentRefs?.forEach(s=>{s instanceof B?s.injector.get(st).markForCheck():s.markForCheck()})}function wt(n){return n instanceof Qe}function ft(n){let s=t=>t.hide||t.expressions?.hide||t.hideExpression,e=!n.resetOnHide||!s(n);if(!s(n)&&n.resetOnHide){let t=n.parent;for(;t&&!s(t);)t=t.parent;e=!t||!s(t)}return!e}function ie(){return+K.major>18||+K.major>=18&&+K.minor>=1}function At(n,s){try{return Function(...s,`return ${n};`)}catch(e){console.error(e)}}function Dt(n,s,e){return typeof n=="function"?n.apply(s,e):!!n}function ve(n,s=!1){let e=n.formControl,t=e._fields?e._fields.indexOf(n):-1;t!==-1&&e._fields.splice(t,1);let i=e.parent;if(!i)return;let r={emitEvent:s};if(i instanceof Q){let o=i.controls.findIndex(a=>a===e);o!==-1&&i.removeAt(o,r)}else if(i instanceof I){let o=D(n),a=o[o.length-1];i.get([a])===e&&i.removeControl(a,r)}e.setParent(null)}function pt(n){return n.formControl?n.formControl:n.shareFormControl===!1?null:n.form?.get(D(n))}function Re(n,s,e=!1){if(s=s||n.formControl,s._fields||f(s,"_fields",[]),s._fields.indexOf(n)===-1&&s._fields.push(n),!n.formControl&&s){f(n,"formControl",s),s.setValidators(null),s.setAsyncValidators(null),n.props.disabled=!!n.props.disabled;let a=u(n,["props","disabled"],({firstChange:l,currentValue:h})=>{l||(h?n.formControl.disable():n.formControl.enable())});s instanceof T&&s.registerOnDisabledChange(a.setValue)}if(!n.form||!c(n))return;let t=n.form,i=D(n),r=O(n);!(x(s.value)&&x(r))&&s.value!==r&&s instanceof T&&s.patchValue(r);for(let a=0;a<i.length-1;a++){let l=i[a];t.get([l])||t.setControl(l,new I({}),{emitEvent:e}),t=t.get([l])}let o=i[i.length-1];!n._hide&&t.get([o])!==s&&t.setControl(o,s,{emitEvent:e})}function W(n,s=!1){let e=n.status,t=n.value;n.updateValueAndValidity({emitEvent:!1,onlySelf:s}),e!==n.status&&n.statusChanges.emit(n.status),t!==n.value&&n.valueChanges.emit(n.value)}function dt(n){delete n?._fields,n.setValidators(null),n.setAsyncValidators(null),(n instanceof I||n instanceof Q)&&Object.values(n.controls).forEach(s=>dt(s))}var Fe=class{onPopulate(s){if(s._expressions)return;f(s,"_expressions",{}),u(s,["hide"],({currentValue:t,firstChange:i})=>{f(s,"_hide",!!t),(!i||i&&t===!0)&&(s.props.hidden=t,s.options._hiddenFieldsForCheck.push({field:s}))}),s.hideExpression&&u(s,["hideExpression"],({currentValue:t})=>{s._expressions.hide=this.parseExpressions(s,"hide",typeof t=="boolean"?()=>t:t)});let e=(t,i)=>{typeof i=="string"||be(i)?s._expressions[t]=this.parseExpressions(s,t,i):i instanceof je&&(s._expressions[t]={value$:i.pipe(Ge(r=>{this.evalExpr(s,t,r),s.options._detectChanges(s)}))})};s.expressions=s.expressions||{};for(let t of Object.keys(s.expressions))u(s,["expressions",t],({currentValue:i})=>{e(t,be(i)?(...r)=>i(s,r[3]):i)});s.expressionProperties=s.expressionProperties||{};for(let t of Object.keys(s.expressionProperties))u(s,["expressionProperties",t],({currentValue:i})=>e(t,i))}postPopulate(s){if(!s.parent&&!s.options.checkExpressions){let e=!1;s.options.checkExpressions=(t,i)=>{if(e)return;e=!0;let r=this.checkExpressions(t,i),o=s.options;o._hiddenFieldsForCheck.sort(a=>a.field.hide?-1:1).forEach(a=>this.changeHideState(a.field,a.field.hide??a.default,!i)),o._hiddenFieldsForCheck=[],r&&this.checkExpressions(s),e=!1}}}parseExpressions(s,e,t){let i;if(s.parent&&["hide","props.disabled"].includes(e)){let o=a=>e==="hide"?a.hide:a.props.disabled;i=()=>{let a=s.parent;for(;a.parent&&!o(a);)a=a.parent;return o(a)}}t=t||(()=>!1),typeof t=="string"&&(t=At(t,["model","formState","field"]));let r;return{callback:o=>{try{let a=Dt(i?(...l)=>i(s)||t(...l):t,{field:s},[s.model,s.options.formState,s,o]);return o||r!==a&&(!b(a)||k(a)||JSON.stringify(a)!==JSON.stringify(r))?(r=a,this.evalExpr(s,e,a),!0):!1}catch(a){throw a.message=`[Formly Error] [Expression "${e}"] ${a.message}`,a}}}}checkExpressions(s,e=!1){if(!s)return!1;let t=!1;if(s._expressions)for(let i of Object.keys(s._expressions))s._expressions[i].callback?.(e)&&(t=!0);return s.fieldGroup?.forEach(i=>this.checkExpressions(i,e)&&(t=!0)),t}changeDisabledState(s,e){s.fieldGroup&&s.fieldGroup.filter(t=>!t._expressions.hasOwnProperty("props.disabled")).forEach(t=>this.changeDisabledState(t,e)),c(s)&&s.props.disabled!==e&&(s.props.disabled=e)}changeHideState(s,e,t){if(s.fieldGroup&&s.fieldGroup.filter(i=>i&&!i._expressions.hide).forEach(i=>this.changeHideState(i,e,t)),s.formControl&&c(s)){f(s,"_hide",!!(e||s.hide));let i=s.formControl;i._fields?.length>1&&W(i),e===!0&&(!i._fields||i._fields.every(r=>!!r._hide))?(ve(s,!0),t&&s.resetOnHide&&(H(s,void 0),s.formControl.reset({value:void 0,disabled:s.formControl.disabled}),s.options.fieldChanges.next({value:void 0,field:s,type:"valueChanges"}),s.fieldGroup&&s.formControl instanceof Q&&(s.fieldGroup.length=0))):e===!1&&(s.resetOnHide&&!te(s.defaultValue)&&te(O(s))&&H(s,s.defaultValue),Re(s,void 0,!0),s.resetOnHide&&s.fieldArray&&s.fieldGroup?.length!==s.model?.length&&s.options.build(s))}s.options.fieldChanges&&s.options.fieldChanges.next({field:s,type:"hidden",value:e})}evalExpr(s,e,t){if(e.indexOf("model.")===0){let i=e.replace(/^model\./,""),r=s.fieldGroup?s:s.parent,o=s?.key===i?s.formControl:s.form.get(i);!o&&s.get(i)&&(o=s.get(i).formControl),H({key:i,parent:r,model:s.model},t),o&&!(x(o.value)&&x(t))&&o.value!==t&&o.patchValue(t)}else{try{let i=s,r=this._evalExpressionPath(s,e),o=r.length-1;for(let a=0;a<o;a++)i=i[r[a]];i[r[o]]=t}catch(i){throw i.message=`[Formly Error] [Expression "${e}"] ${i.message}`,i}["templateOptions.disabled","props.disabled"].includes(e)&&c(s)&&this.changeDisabledState(s,t)}this.emitExpressionChanges(s,e,t)}emitExpressionChanges(s,e,t){s.options.fieldChanges&&s.options.fieldChanges.next({field:s,type:"expressionChanges",property:e,value:t})}_evalExpressionPath(s,e){if(s._expressions[e]&&s._expressions[e].paths)return s._expressions[e].paths;let t=[];return e.indexOf("[")===-1?t=e.split("."):e.split(/[[\]]{1,2}/).filter(i=>i).forEach(i=>{let r=i.match(/['|"](.*?)['|"]/);r?t.push(r[1]):t.push(...i.split(".").filter(o=>o))}),s._expressions[e]&&(s._expressions[e].paths=t),t}},_e=class{constructor(s){this.config=s,this.formId=0}prePopulate(s){let e=s.parent;this.initRootOptions(s),this.initFieldProps(s),e&&(Object.defineProperty(s,"options",{get:()=>e.options,configurable:!0}),Object.defineProperty(s,"model",{get:()=>c(s)&&s.fieldGroup?O(s):e.model,configurable:!0})),Object.defineProperty(s,"get",{value:t=>ut(s,t),configurable:!0}),this.getFieldComponentInstance(s).prePopulate?.(s)}onPopulate(s){this.initFieldOptions(s),this.getFieldComponentInstance(s).onPopulate?.(s),s.fieldGroup&&s.fieldGroup.forEach((e,t)=>{e&&(Object.defineProperty(e,"parent",{get:()=>s,configurable:!0}),Object.defineProperty(e,"index",{get:()=>t,configurable:!0})),this.formId++})}postPopulate(s){this.getFieldComponentInstance(s).postPopulate?.(s)}initFieldProps(s){s.props??=s.templateOptions,Object.defineProperty(s,"templateOptions",{get:()=>s.props,set:e=>s.props=e,configurable:!0})}initRootOptions(s){if(s.parent)return;let e=s.options;s.options.formState=s.options.formState||{},e.showError||(e.showError=this.config.extras.showError),e.fieldChanges||f(e,"fieldChanges",new Me),e._hiddenFieldsForCheck||(e._hiddenFieldsForCheck=[]),e._detectChanges=t=>{t._componentRefs&&Ce(t),t.fieldGroup?.forEach(i=>i&&e._detectChanges(i))},e.detectChanges=t=>{t.options.checkExpressions?.(t),e._detectChanges(t)},e.resetModel=t=>{t=y(t??e._initialModel),s.model&&(Object.keys(s.model).forEach(i=>delete s.model[i]),Object.assign(s.model,t||{})),ie()||u(e,["parentForm","submitted"]).setValue(!1,!1),e.build(s),s.form.reset(s.model)},e.updateInitialValue=t=>e._initialModel=y(t??s.model),s.options.updateInitialValue()}initFieldOptions(s){G(s,{id:Et(`formly_${this.formId}`,s,s.index),hooks:{},modelOptions:{},validation:{messages:{}},props:!s.type||!c(s)?{}:{label:"",placeholder:"",disabled:!1}}),this.config.extras.resetFieldOnHide&&s.resetOnHide!==!1&&(s.resetOnHide=!0),s.type!=="formly-template"&&(s.template||s.expressions?.template||s.expressionProperties?.template)&&(s.type="formly-template"),!s.type&&s.fieldGroup&&(s.type="formly-group"),s.type&&this.config.getMergedField(s),c(s)&&!te(s.defaultValue)&&te(O(s))&&!ft(s)&&H(s,s.defaultValue),s.wrappers=s.wrappers||[]}getFieldComponentInstance(s){let e=()=>{let t=this.config.resolveFieldTypeRef(s),i=s._componentRefs?.slice(-1)[0];return i instanceof B&&i?.componentType===t?.componentType&&(t=i),t?.instance};return s._proxyInstance||f(s,"_proxyInstance",new Proxy({},{get:(t,i)=>e()?.[i],set:(t,i,r)=>e()[i]=r})),s._proxyInstance}},Ee=class{prePopulate(s){this.root||(this.root=s),s.parent&&Object.defineProperty(s,"form",{get:()=>s.parent.formControl,configurable:!0})}onPopulate(s){s.hasOwnProperty("fieldGroup")&&!c(s)?f(s,"formControl",s.form):this.addFormControl(s)}postPopulate(s){if(this.root!==s)return;if(this.root=null,this.setValidators(s)&&s.parent){let t=s.parent;for(;t;)(c(t)||!t.parent)&&W(t.formControl,!0),t=t.parent}}addFormControl(s){let e=pt(s);if(!s.fieldArray){if(e){if(e instanceof T){let t=c(s)?O(s):s.defaultValue;e.defaultValue=t}}else{let t={updateOn:s.modelOptions.updateOn};if(s.fieldGroup)e=new I({},t);else{let i=c(s)?O(s):s.defaultValue;e=new at({value:i,disabled:!!s.props.disabled},S(m({},t),{initialValueIsDefault:!0}))}}Re(s,e)}}setValidators(s,e=!1){e===!1&&c(s)&&s.props?.disabled&&(e=!0);let t=!1;if(s.fieldGroup?.forEach(i=>i&&this.setValidators(i,e)&&(t=!0)),c(s)||!s.parent||!c(s)&&!s.fieldGroup){let{formControl:i}=s;if(i&&(c(s)&&i instanceof T&&(e&&i.enabled&&(i.disable({emitEvent:!1,onlySelf:!0}),t=!0),!e&&i.disabled&&(i.enable({emitEvent:!1,onlySelf:!0}),t=!0)),i.validator===null&&this.hasValidators(s,"_validators")&&(i.setValidators(()=>{let r=C.compose(this.mergeValidators(s,"_validators"));return r?r(i):null}),t=!0),i.asyncValidator===null&&this.hasValidators(s,"_asyncValidators")&&(i.setAsyncValidators(()=>{let r=C.composeAsync(this.mergeValidators(s,"_asyncValidators"));return r?r(i):L(null)}),t=!0),t)){W(i,!0);let r=i.parent;for(let o=1;o<D(s).length;o++)r&&(W(r,!0),r=r.parent)}}return t}hasValidators(s,e){let t=s.formControl;return t?._fields?.length>1&&t._fields.some(i=>i[e].length>0)||s[e].length>0?!0:s.fieldGroup?.some(i=>i?.fieldGroup&&!c(i)&&this.hasValidators(i,e))}mergeValidators(s,e){let t=[],i=s.formControl;return i?._fields?.length>1?i._fields.filter(r=>!r._hide).forEach(r=>t.push(...r[e])):s[e]&&t.push(...s[e]),s.fieldGroup&&s.fieldGroup.filter(r=>r?.fieldGroup&&!c(r)).forEach(r=>t.push(...this.mergeValidators(r,e))),t}},Oe=class{constructor(s){this.config=s}onPopulate(s){this.initFieldValidation(s,"validators"),this.initFieldValidation(s,"asyncValidators")}initFieldValidation(s,e){let t=[];if(e==="validators"&&!(s.hasOwnProperty("fieldGroup")&&!c(s))&&t.push(this.getPredefinedFieldValidation(s)),s[e])for(let i of Object.keys(s[e]))i==="validation"?t.push(...s[e].validation.map(r=>this.wrapNgValidatorFn(s,r))):t.push(this.wrapNgValidatorFn(s,s[e][i],i));f(s,"_"+e,t)}getPredefinedFieldValidation(s){let e=[];return xe.forEach(t=>u(s,["props",t],({currentValue:i,firstChange:r})=>{e=e.filter(o=>o!==t),t==="required"&&i!=null&&typeof i!="boolean"&&console.warn(`Formly: Invalid prop 'required' of type '${typeof i}', expected 'boolean' (Field:${s.key}).`),i!=null&&i!==!1&&e.push(t),!r&&s.formControl&&W(s.formControl)})),t=>e.length===0?null:C.compose(e.map(i=>()=>{let r=s.props[i];switch(i){case"required":return C.required(t);case"pattern":return C.pattern(r)(t);case"minLength":let o=C.minLength(r)(t),a=this.config.getValidatorMessage("minlength")||s.validation?.messages?.minlength?"minlength":"minLength";return o?{[a]:o.minlength}:null;case"maxLength":let l=C.maxLength(r)(t),h=this.config.getValidatorMessage("maxlength")||s.validation?.messages?.maxlength?"maxlength":"maxLength";return l?{[h]:l.maxlength}:null;case"min":return C.min(r)(t);case"max":return C.max(r)(t);default:return null}}))(t)}wrapNgValidatorFn(s,e,t){let i;if(typeof e=="string"&&(i=y(this.config.getValidator(e))),typeof e=="object"&&e.name&&(i=y(this.config.getValidator(e.name)),e.options&&(i.options=e.options)),typeof e=="object"&&e.expression){let r=e,{expression:o}=r,a=z(r,["expression"]);i={name:t,validation:o,options:Object.keys(a).length>0?a:null}}return typeof e=="function"&&(i={name:t,validation:e}),o=>{let a=i.validation(o,s,i.options);return Rt(a)?a.then(l=>this.handleResult(s,t?!!l:l,i)):k(a)?a.pipe(re(l=>this.handleResult(s,t?!!l:l,i))):this.handleResult(s,t?!!a:a,i)}}handleResult(s,e,{name:t,options:i}){typeof e=="boolean"&&(e=e?null:{[t]:i||!0});let r=s.formControl;return r?._childrenErrors?.[t]?.(),b(e)&&Object.keys(e).forEach(o=>{let a=e[o].errorPath?e[o].errorPath:i?.errorPath,l=a?s.formControl.get(a):null;if(l){let h=e[o],{errorPath:g}=h,p=z(h,["errorPath"]);l.setErrors(S(m({},l.errors||{}),{[o]:p})),!r._childrenErrors&&f(r,"_childrenErrors",{}),r._childrenErrors[o]=()=>{let Ae=l.errors||{},{[o]:_}=Ae,we=z(Ae,[De(o)]);l.setErrors(Object.keys(we).length===0?null:we)}}}),e}},ne=(()=>{class n{constructor(){this.field={}}set _formlyControls(e){let t=this.field;t._localFields=e.map(i=>i.control._fields||[]).flat().filter(i=>i.formControl!==this.field.formControl)}get model(){return this.field.model}get form(){return this.field.form}get options(){return this.field.options}get key(){return this.field.key}get formControl(){return this.field.formControl}get props(){return this.field.props||{}}get to(){return this.props}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options?.formState||{}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=w({type:n,viewQuery:function(t,i){if(t&1&&U(rt,5),t&2){let r;P(r=V())&&(i._formlyControls=r)}},inputs:{field:"field"},standalone:!1})}}return n})(),jt=(()=>{class n extends ne{get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.props.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}constructor(e){super(),this.sanitizer=e,this.innerHtml={}}static{this.\u0275fac=function(t){return new(t||n)(d(nt))}}static{this.\u0275cmp=v({type:n,selectors:[["formly-template"]],standalone:!1,features:[F],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(t,i){t&1&&N(0,"div",0),t&2&&$("innerHtml",i.template,$e)},encapsulation:2,changeDetection:0})}}return n})(),A=(()=>{class n{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.extras={checkExpressionOn:"modelChange",lazyRender:!0,resetFieldOnHide:!0,renderFormlyFieldElement:!0,showError(e){return e.formControl?.invalid&&(e.formControl?.touched||e.options.parentForm?.submitted||!!e.field.validation?.show)}},this.extensions={},this.presets={},this.extensionsByPriority={},this.componentRefs={}}addConfig(e){if(Array.isArray(e)){e.forEach(t=>this.addConfig(t));return}e.types&&e.types.forEach(t=>this.setType(t)),e.validators&&e.validators.forEach(t=>this.setValidator(t)),e.wrappers&&e.wrappers.forEach(t=>this.setWrapper(t)),e.validationMessages&&e.validationMessages.forEach(t=>this.addValidatorMessage(t.name,t.message)),e.extensions&&this.setSortedExtensions(e.extensions),e.extras&&(this.extras=m(m({},this.extras),e.extras)),e.presets&&(this.presets=m(m({},this.presets),e.presets.reduce((t,i)=>S(m({},t),{[i.name]:i.config}),{})))}setType(e){Array.isArray(e)?e.forEach(t=>this.setType(t)):(this.types[e.name]||(this.types[e.name]={name:e.name}),["component","extends","defaultOptions","wrappers"].forEach(t=>{e.hasOwnProperty(t)&&(this.types[e.name][t]=e[t])}))}getType(e,t=!1){if(e instanceof J)return{component:e,name:e.prototype.constructor.name};if(!this.types[e]){if(t)throw new Error(`[Formly Error] The type "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return null}return this.mergeExtendedType(e),this.types[e]}getMergedField(e={}){let t=this.getType(e.type);if(!t)return;t.defaultOptions&&G(e,t.defaultOptions);let i=t.extends&&this.getType(t.extends).defaultOptions;i&&G(e,i),e?.optionsTypes&&e.optionsTypes.forEach(o=>{let a=this.getType(o).defaultOptions;a&&G(e,a)});let r=this.resolveFieldTypeRef(e);r?.instance?.defaultOptions&&G(e,r.instance.defaultOptions),!e.wrappers&&t.wrappers&&(e.wrappers=[...t.wrappers])}resolveFieldTypeRef(e={}){let t=this.getType(e.type);if(!t||!t.component)return null;if(!this.componentRefs[t.name]){let{_viewContainerRef:i,_injector:r}=e.options;if(!i||!r)return null;let o=i.createComponent(t.component,{injector:r});this.componentRefs[t.name]=o;try{o.destroy()}catch(a){console.error(`An error occurred while destroying the Formly component type "${e.type}"`,a)}}return this.componentRefs[t.name]}clearRefs(){this.componentRefs={}}setWrapper(e){this.wrappers[e.name]=e,e.types&&e.types.forEach(t=>{this.setTypeWrapper(t,e.name)})}getWrapper(e){if(e instanceof J)return{component:e,name:e.prototype.constructor.name};if(!this.wrappers[e])throw new Error(`[Formly Error] The wrapper "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[e]}setTypeWrapper(e,t){this.types[e]||(this.types[e]={}),this.types[e].wrappers||(this.types[e].wrappers=[]),this.types[e].wrappers.indexOf(t)===-1&&this.types[e].wrappers.push(t)}setValidator(e){this.validators[e.name]=e}getValidator(e){if(!this.validators[e])throw new Error(`[Formly Error] The validator "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[e]}addValidatorMessage(e,t){this.messages[e]=t}getValidatorMessage(e){return this.messages[e]}setSortedExtensions(e){e.forEach(t=>{let i=t.priority??1;this.extensionsByPriority[i]=S(m({},this.extensionsByPriority[i]),{[t.name]:t.extension})}),this.extensions=Object.keys(this.extensionsByPriority).map(Number).sort((t,i)=>t-i).reduce((t,i)=>m(m({},t),this.extensionsByPriority[i]),{})}mergeExtendedType(e){if(!this.types[e].extends)return;let t=this.getType(this.types[e].extends);this.types[e].component||(this.types[e].component=t.component),this.types[e].wrappers||(this.types[e].wrappers=t.wrappers)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mt=(()=>{class n{constructor(e){this.ref=e}ngOnChanges(){this.name=this.name||"formly-group"}static{this.\u0275fac=function(t){return new(t||n)(d(X))}}static{this.\u0275dir=w({type:n,selectors:[["","formlyTemplate",""]],inputs:{name:[0,"formlyTemplate","name"]},standalone:!1,features:[M]})}}return n})(),se=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),mt=(()=>{class n{get containerRef(){return this.config.extras.renderFormlyFieldElement?this.viewContainerRef:this.hostContainerRef}get elementRef(){return this.config.extras.renderFormlyFieldElement?this._elementRef:this.componentRefs?.[0]instanceof B?this.componentRefs[0].location:null}constructor(e,t,i,r,o){this.config=e,this.renderer=t,this._elementRef=i,this.hostContainerRef=r,this.form=o,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.valueChangesUnsubscribe=()=>{}}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngDoCheck(){this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e.unsubscribe()),this.hooksObservers.forEach(e=>e()),this.valueChangesUnsubscribe(),this.triggerHook("onDestroy")}renderField(e,t,i=[]){if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),i=this.field?.wrappers),i?.length>0){let[r,...o]=i,{component:a}=this.config.getWrapper(r),l=e.createComponent(a);this.attachComponentRef(l,t),u(l.instance,["fieldComponent"],({currentValue:h,previousValue:g,firstChange:p})=>{if(h){if(g&&g._lContainer===h._lContainer)return;let _=g?g.detach():null;_&&!_.destroyed?h.insert(_):this.renderField(h,t,o),!p&&l.changeDetectorRef.detectChanges()}})}else if(t?.type){let r=this.form?.templates?.find(a=>a.name===t.type),o;if(r)o=e.createEmbeddedView(r.ref,{$implicit:t});else{let{component:a}=this.config.getType(t.type,!0);o=e.createComponent(a)}this.attachComponentRef(o,t)}}triggerHook(e,t){if((e==="onInit"||e==="onChanges"&&t.field&&!t.field.firstChange)&&(this.valueChangesUnsubscribe(),this.valueChangesUnsubscribe=this.fieldChanges(this.field)),this.field?.hooks?.[e]&&(!t||t.field)){let i=this.field.hooks[e](this.field);if(k(i)&&["onInit","afterContentInit","afterViewInit"].indexOf(e)!==-1){let r=i.subscribe();this.hooksObservers.push(()=>r.unsubscribe())}}e==="onChanges"&&t.field&&(this.resetRefs(t.field.previousValue),this.render())}attachComponentRef(e,t){this.componentRefs.push(e),t._componentRefs.push(e),e instanceof B&&Object.assign(e.instance,{field:t})}render(){if(this.field){if(!this.field.options){this.detectFieldBuild=!0;return}if(this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e.unsubscribe()),this.hostObservers=[u(this.field,["hide"],({firstChange:e,currentValue:t})=>{let i=this.containerRef;this.config.extras.lazyRender===!1?(e&&this.renderField(i,this.field),(!e||e&&t)&&this.elementRef&&this.renderer.setStyle(this.elementRef.nativeElement,"display",t?"none":"")):t?(i.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(i,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)),!e&&this.field.options.detectChanges(this.field)}),u(this.field,["className"],({firstChange:e,currentValue:t})=>{(!e||e&&t)&&(!this.config.extras.lazyRender||this.field.hide!==!0)&&this.elementRef&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",t)})],!ie())["touched","pristine","status"].forEach(e=>this.hostObservers.push(u(this.field,["formControl",e],({firstChange:t})=>!t&&Ce(this.field))));else if(this.field.formControl){let e=this.field.formControl.events.subscribe(()=>Ce(this.field));this.hostObservers.push(e)}}}resetRefs(e){e&&(e._localFields?e._localFields=[]:f(this.field,"_localFields",[]),e._componentRefs?e._componentRefs=e._componentRefs.filter(t=>this.componentRefs.indexOf(t)===-1):f(this.field,"_componentRefs",[])),this.componentRefs=[]}fieldChanges(e){if(!e)return()=>{};let t=ke(e,["props"],()=>e.options.detectChanges(e)),i=[()=>{t()}];for(let o of Object.keys(e._expressions||{})){let a=u(e,["_expressions",o],({currentValue:l,previousValue:h})=>{h?.subscription&&(h.subscription.unsubscribe(),h.subscription=null),k(l.value$)&&(l.subscription=l.value$.subscribe())});i.push(()=>{e._expressions[o]?.subscription&&e._expressions[o].subscription.unsubscribe(),a.unsubscribe()})}for(let o of[["focus"],["template"],["fieldGroupClassName"],["validation","show"]]){let a=u(e,o,({firstChange:l})=>!l&&e.options.detectChanges(e));i.push(()=>a.unsubscribe())}if(e.formControl&&!e.fieldGroup){let o=e.formControl,a=o.valueChanges.pipe(re(p=>(e.parsers?.map(_=>p=_(p,e)),Object.is(p,e.formControl.value)||e.formControl.setValue(p),p)),Te((p,_)=>!(p!==_||Array.isArray(p)||b(p))));o.value!==O(e)&&(a=a.pipe(ae(o.value)));let{updateOn:l,debounce:h}=e.modelOptions;(!l||l==="change")&&h?.default>0&&(a=a.pipe(Ve(h.default)));let g=a.subscribe(p=>{o._fields?.length>1&&o instanceof T&&o.patchValue(p,{emitEvent:!1,onlySelf:!0}),c(e)&&H(e,p),e.options.fieldChanges.next({value:p,field:e,type:"valueChanges"})});i.push(()=>g.unsubscribe())}let r=[];return u(e,["_localFields"],({currentValue:o})=>{r.forEach(a=>a()),r=(o||[]).map(a=>this.fieldChanges(a))}),()=>{i.forEach(o=>o()),r.forEach(o=>o())}}static{this.\u0275fac=function(t){return new(t||n)(d(A),d(he),d(ce),d(R),d(se,8))}}static{this.\u0275cmp=v({type:n,selectors:[["formly-field"]],viewQuery:function(t,i){if(t&1&&U(yt,7,R),t&2){let r;P(r=V())&&(i.viewContainerRef=r.first)}},inputs:{field:"field"},features:[M],decls:2,vars:0,consts:[["container",""]],template:function(t,i){t&1&&Ze(0,bt,0,0,"ng-template",null,0,ye)},styles:["[_nghost-%COMP%]:empty{display:none}"]})}}return n})(),gt=(()=>{class n extends mt{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(n)))(i||n)}})()}static{this.\u0275cmp=v({type:n,selectors:[["formly-field"]],standalone:!1,features:[F],decls:2,vars:0,consts:[["container",""]],template:function(t,i){t&1&&We(0,Ct,0,0,"ng-template",null,0,ye)},styles:["[_nghost-%COMP%]:empty{display:none}"]})}}return n})(),Pt=(()=>{class n extends ne{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(n)))(i||n)}})()}static{this.\u0275cmp=v({type:n,selectors:[["formly-group"]],hostVars:2,hostBindings:function(t,i){t&2&&tt(i.field.fieldGroupClassName||"")},standalone:!1,features:[F],ngContentSelectors:vt,decls:3,vars:0,consts:[[3,"field"]],template:function(t,i){t&1&&(Je(),Ke(0,Ft,1,1,"formly-field",0,ze),Xe(2)),t&2&&Ye(i.field.fieldGroup)},dependencies:[gt],encapsulation:2,changeDetection:0})}}return n})(),q=new Se("FORMLY_CONFIG");function ht(n){return{types:[{name:"formly-group",component:Pt},{name:"formly-template",component:jt}],extensions:[{name:"core",extension:new _e(n),priority:-250},{name:"field-validation",extension:new Oe(n),priority:-200},{name:"field-form",extension:new Ee,priority:-150},{name:"field-expression",extension:new Fe,priority:-100}]}}var Z=(()=>{class n{constructor(e,t,i,r,o=[]){this.config=e,this.injector=t,this.viewContainerRef=i,this.parentForm=r,o&&o.forEach(a=>e.addConfig(a))}buildForm(e,t=[],i,r){this.build({fieldGroup:t,model:i,form:e,options:r})}build(e){if(!this.config.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");e.parent||this._setOptions(e),_t(e.form,()=>{if(this._build(e),!e.parent||e.fieldArray){let t=e.options;e.parent&&ft(e)&&t._hiddenFieldsForCheck?.push({field:e,default:!1}),t.checkExpressions?.(e,!0),t._detectChanges?.(e)}})}_build(e){if(!e)return;let t=Object.values(this.config.extensions);t.forEach(i=>i.prePopulate?.(e)),t.forEach(i=>i.onPopulate?.(e)),e.fieldGroup?.forEach(i=>this._build(i)),t.forEach(i=>i.postPopulate?.(e))}_setOptions(e){e.form=e.form||new I({}),e.model=e.model||{},e.options=e.options||{};let t=e.options;t._viewContainerRef||f(t,"_viewContainerRef",this.viewContainerRef),t._injector||f(t,"_injector",this.injector),t.build||(t.build=(i=e)=>(this.build(i),i)),!t.parentForm&&this.parentForm&&(f(t,"parentForm",this.parentForm),ie()||u(t,["parentForm","submitted"],({firstChange:i})=>{i||t.detectChanges(e)}))}static{this.\u0275fac=function(t){return new(t||n)(j(A),j(Le),j(R,8),j(lt,8),j(q,8))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vt=(()=>{class n{set form(e){this.field.form=e}get form(){return this.field.form}set model(e){this.config.extras.immutable&&this._modelChangeValue===e||this.setField({model:e})}get model(){return this.field.model}set fields(e){this.setField({fieldGroup:e})}get fields(){return this.field.fieldGroup}set options(e){this.setField({options:e})}get options(){return this.field.options}set templates(e){this.fieldTemplates.templates=e}constructor(e,t,i,r){this.builder=e,this.config=t,this.ngZone=i,this.fieldTemplates=r,this.modelChange=new Ne,this.field={type:"formly-group"},this._modelChangeValue={},this.valueChangesUnsubscribe=()=>{}}ngDoCheck(){this.config.extras.checkExpressionOn==="changeDetectionCheck"&&this.checkExpressionChange()}ngOnChanges(e){e.fields&&this.form&&dt(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.valueChangesUnsubscribe(),this.builder.build(this.field),this.valueChangesUnsubscribe=this.valueChanges())}ngOnDestroy(){this.valueChangesUnsubscribe(),this.config.clearRefs()}checkExpressionChange(){this.field.options.checkExpressions?.(this.field)}valueChanges(){this.valueChangesUnsubscribe();let e=null;if(ie()){let r=this.options?.parentForm?.submitted;e=this.form.events.subscribe(()=>{r!==this.options?.parentForm?.submitted&&(this.options.detectChanges(this.field),r=this.options?.parentForm?.submitted)})}let t=[ke(this.field.options,["formState"],()=>this.field.options.detectChanges(this.field))],i=this.field.options.fieldChanges.pipe(oe(({field:r,type:o})=>c(r)&&o==="valueChanges"),le(()=>wt(this.ngZone)?L(null):this.ngZone.onStable.asObservable().pipe(Ie(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=y(this.model))}));return()=>{t.forEach(r=>r()),e?.unsubscribe(),i.unsubscribe()}}setField(e){this.config.extras.immutable?this.field=m(m({},this.field),y(e)):Object.keys(e).forEach(t=>this.field[t]=e[t])}static{this.\u0275fac=function(t){return new(t||n)(d(Z),d(A),d(Ue),d(se))}}static{this.\u0275cmp=v({type:n,selectors:[["formly-form"]],contentQueries:function(t,i,r){if(t&1&&et(r,Mt,4),t&2){let o;P(o=V())&&(i.templates=o)}},inputs:{form:"form",model:"model",fields:"fields",options:"options"},outputs:{modelChange:"modelChange"},features:[de([Z,se]),M],decls:1,vars:1,consts:[[3,"field"]],template:function(t,i){t&1&&N(0,"formly-field",0),t&2&&$("field",i.field)},dependencies:[mt],encapsulation:2,changeDetection:0})}}return n})(),ns=(()=>{class n extends Vt{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(n)))(i||n)}})()}static{this.\u0275cmp=v({type:n,selectors:[["formly-form"]],standalone:!1,features:[de([Z,se]),F],decls:1,vars:1,consts:[[3,"field"]],template:function(t,i){t&1&&N(0,"formly-field",0),t&2&&$("field",i.field)},dependencies:[gt],encapsulation:2,changeDetection:0})}}return n})(),It=(()=>{class n{get props(){return this.field.props||{}}get fieldAttrElements(){return this.field?._elementRefs||[]}constructor(e,t,i){this.renderer=e,this.elementRef=t,this.uiAttributesCache={},this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change","wheel"],callback:(r,o)=>{switch(r){case"focus":return this.onFocus(o);case"blur":return this.onBlur(o);case"change":return this.onChange(o);default:return this.props[r](this.field,o)}}},this.document=i}ngOnChanges(e){e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(t=>t()),this.uiEvents.events.forEach(t=>{(this.props?.[t]||["focus","blur","change"].indexOf(t)!==-1)&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,t,i=>this.uiEvents.callback(t,i)))}),this.props?.attributes&&u(this.field,["props","attributes"],({currentValue:t,previousValue:i})=>{i&&Object.keys(i).forEach(r=>this.removeAttribute(r)),t&&Object.keys(t).forEach(r=>{t[r]!=null&&this.setAttribute(r,t[r])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),this.fieldAttrElements.length===1&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),this.focusObserver=u(this.field,["focus"],({currentValue:t})=>{this.toggleFocus(t)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){let e=this.elementRef.nativeElement;this.uiAttributes=[...xe,"tabindex","placeholder","readonly","disabled","step"].filter(t=>!e.hasAttribute||!e.hasAttribute(t))}for(let e=0;e<this.uiAttributes.length;e++){let t=this.uiAttributes[e],i=this.props[t];this.uiAttributesCache[t]!==i&&(!this.props.attributes||!this.props.attributes.hasOwnProperty(t.toLowerCase()))&&(this.uiAttributesCache[t]=i,i||i===0?this.setAttribute(t,i===!0?t:`${i}`):this.removeAttribute(t))}}ngOnDestroy(){this.uiEvents.listeners.forEach(e=>e()),this.detachElementRef(this.field),this.focusObserver?.unsubscribe()}toggleFocus(e){let t=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!t||!t.nativeElement.focus)return;let i=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:r})=>this.document.activeElement===r||r.contains(this.document.activeElement));e&&!i?Promise.resolve().then(()=>t.nativeElement.focus()):!e&&i&&Promise.resolve().then(()=>t.nativeElement.blur())}onFocus(e){this.focusObserver?.setValue(!0),this.props.focus?.(this.field,e)}onBlur(e){this.focusObserver?.setValue(!1),this.props.blur?.(this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){this.props.change?.(this.field,e),this.field.formControl?.markAsDirty()}attachElementRef(e){e&&(e._elementRefs?.indexOf(this.elementRef)===-1?e._elementRefs.push(this.elementRef):f(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){let t=e?._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;t!==-1&&e._elementRefs.splice(t,1)}setAttribute(e,t){this.renderer.setAttribute(this.elementRef.nativeElement,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}static{this.\u0275fac=function(t){return new(t||n)(d(he),d(ce),d(Be))}}static{this.\u0275dir=w({type:n,selectors:[["","formlyAttributes",""]],hostBindings:function(t,i){t&1&&ue("change",function(o){return i.onHostChange(o)})},inputs:{field:[0,"formlyAttributes","field"],id:"id"},features:[M]})}}return n})(),rs=(()=>{class n extends It{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(n)))(i||n)}})()}static{this.\u0275dir=w({type:n,selectors:[["","formlyAttributes",""]],hostBindings:function(t,i){t&1&&ue("change",function(o){return i.onHostChange(o)})},standalone:!1,features:[F]})}}return n})(),Tt=(()=>{class n{constructor(e){this.config=e}ngOnChanges(){let e=xe.map(t=>`templateOptions.${t}`);this.errorMessage$=Pe(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe(oe(({field:t,type:i,property:r})=>t===this.field&&i==="expressionChanges"&&(r.indexOf("validation")!==-1||e.indexOf(r)!==-1))):L(null)).pipe(ae(null),le(()=>k(this.errorMessage)?this.errorMessage:L(this.errorMessage)))}get errorMessage(){let e=this.field.formControl;for(let t in e.errors)if(e.errors.hasOwnProperty(t)){let i=this.config.getValidatorMessage(t);if(b(e.errors[t])){if(e.errors[t].errorPath)return;e.errors[t].message&&(i=e.errors[t].message)}return this.field.validation?.messages?.[t]&&(i=this.field.validation.messages[t]),this.field.validators?.[t]?.message&&(i=this.field.validators[t].message),this.field.asyncValidators?.[t]?.message&&(i=this.field.asyncValidators[t].message),typeof i=="function"?i(e.errors[t],this.field):i}}static{this.\u0275fac=function(t){return new(t||n)(d(A))}}static{this.\u0275cmp=v({type:n,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[M],decls:2,vars:3,template:function(t,i){t&1&&(fe(0),me(1,"async")),t&2&&pe(ge(1,1,i.errorMessage$))},dependencies:[ee],encapsulation:2,changeDetection:0})}}return n})(),os=(()=>{class n extends Tt{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(n)))(i||n)}})()}static{this.\u0275cmp=v({type:n,selectors:[["formly-validation-message"]],standalone:!1,features:[F],decls:2,vars:3,template:function(t,i){t&1&&(fe(0),me(1,"async")),t&2&&pe(ge(1,1,i.errorMessage$))},dependencies:[ee],encapsulation:2,changeDetection:0})}}return n})(),as=(()=>{class n extends ne{onPopulate(e){if(c(e)){let i=pt(e);Re(e,i||new Q([],{updateOn:e.modelOptions.updateOn}))}e.fieldGroup=e.fieldGroup||[];let t=Array.isArray(e.model)?e.model.length:0;if(e.fieldGroup.length>t)for(let i=e.fieldGroup.length-1;i>=t;--i)ve(e.fieldGroup[i],!0),e.fieldGroup.splice(i,1);for(let i=e.fieldGroup.length;i<t;i++){let r=m({},y(typeof e.fieldArray=="function"?e.fieldArray(e):e.fieldArray));r.key!==null&&(r.key=`${i}`),e.fieldGroup.push(r)}}add(e,t,{markAsDirty:i}={markAsDirty:!0}){i&&this.formControl.markAsDirty(),e=e??this.field.fieldGroup.length,this.model||H(this.field,[]),this.model.splice(e,0,t?y(t):void 0),this.markFieldForCheck(this.field.fieldGroup[e]),this._build()}remove(e,{markAsDirty:t}={markAsDirty:!0}){t&&this.formControl.markAsDirty(),this.model.splice(e,1);let i=this.field.fieldGroup[e];this.field.fieldGroup.splice(e,1),this.field.fieldGroup.forEach((r,o)=>this.updateArrayElementKey(r,`${o}`)),ve(i,!0),this._build()}_build(){(this.field.formControl._fields??[this.field]).forEach(t=>this.options.build(t)),this.options.fieldChanges.next({field:this.field,value:O(this.field),type:"valueChanges"})}updateArrayElementKey(e,t){if(c(e)){e.key=t;return}if(e.fieldGroup?.length)for(let i=0;i<e.fieldGroup.length;i++)this.updateArrayElementKey(e.fieldGroup[i],t)}markFieldForCheck(e){e&&(e.fieldGroup?.forEach(t=>this.markFieldForCheck(t)),e.hide===!1&&this.options._hiddenFieldsForCheck.push({field:e}))}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(n)))(i||n)}})()}static{this.\u0275dir=w({type:n,standalone:!1,features:[F]})}}return n})(),ls=(()=>{class n extends ne{set _formlyControls(e){}set _staticContent(e){this.fieldComponent=e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(n)))(i||n)}})()}static{this.\u0275dir=w({type:n,viewQuery:function(t,i){if(t&1&&(U(ct,5,R),U(ct,7,R)),t&2){let r;P(r=V())&&(i.fieldComponent=r.first),P(r=V())&&(i._staticContent=r.first)}},standalone:!1,features:[F]})}}return n})(),cs=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:q,multi:!0,useFactory:ht,deps:[A]},{provide:q,useValue:e,multi:!0},A,Z]}}static forChild(e={}){return{ngModule:n,providers:[{provide:q,multi:!0,useFactory:ht,deps:[A]},{provide:q,useValue:e,multi:!0},Z]}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=qe({type:n})}static{this.\u0275inj=He({imports:[it]})}}return n})();export{ne as a,gt as b,q as c,ns as d,It as e,rs as f,os as g,as as h,ls as i,cs as j};
