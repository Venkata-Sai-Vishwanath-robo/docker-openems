import{a as Vt}from"./chunk-6SDHATKH.js";import{f as gr,g as hi}from"./chunk-GYAINRZU.js";import{$a as zi,$d as dr,A as ee,Ae as di,B as Bi,Be as ct,Ca as B,Cb as At,Ce as Ge,Da as k,De as he,E as A,Ea as y,Ee as Pt,F as S,Fa as Yi,Fe as X,Ga as ri,Gc as Xi,Gd as Mt,Ge as It,Hb as be,Hc as $i,He as me,Ia as oi,Ja as ai,Je as ci,Ka as ni,Ke as hr,La as Hi,Lc as er,Le as Ue,M as Q,Ma as ji,Mb as St,Na as je,O as He,Pa as st,Qa as M,Qe as Ne,R as Fi,Ra as W,Rd as nr,Sa as Y,Sd as sr,Se as h,Td as lr,Ue as Et,V as m,Vf as pr,W as O,Wc as Tt,Wf as Se,X as Ri,Xc as tr,Xe as ui,Ya as lt,Za as Wi,_a as We,aa as ii,ab as Ie,ae as xe,ba as D,bg as fr,ca as Ni,cd as ir,ce as Ve,cf as mr,d as Ei,da as F,db as q,dc as Ki,dd as rr,ea as te,eb as si,ee as Ae,fa as nt,fb as Ct,fe as kt,fg as yr,gb as dt,ge as Je,hb as Ji,ib as Gi,ie as Be,jb as N,jc as Qi,jd as or,je as cr,kb as z,kc as qi,kd as ar,ke as li,lb as xt,ld as ve,le as ur,ma as ue,mc as Zi,oa as P,q as Vi,qa as I,qd as we,ra as De,rb as Ee,re as Fe,sa as Li,se as L,ta as ie,td as Ce,te as oe,ua as re,ub as ze,ud as _t,ue as Ot,va as T,wa as p,we as Re,xa as f,xe as ae,y as ti,ya as R,ye as Z,z as Ye,zb as Ui}from"./chunk-UEHZAF3Y.js";import{g as wt}from"./chunk-OQDXQ3X5.js";function Ea(t,a){t&1&&(R(0,"span",3),N(1,"translate")),t&2&&T("innerHTML",z(1,1,"EDGE.INDEX.ENERGYMONITOR.ERROR_TOO_LONG"),Fi)}function Va(t,a){t&1&&(p(0,"span",4),M(1,"EDGE.INDEX.ENERGYMONITOR.ERROR_TEMPORARY"),f())}function Ba(t,a){if(t&1&&(p(0,"ion-item",0),R(1,"ion-icon",1),p(2,"ion-label",2),P(3,Ea,2,3,"span",3)(4,Va,2,0,"span",4),f()()),t&2){let e,i=y();m(3),I((e=i.type)==="TOO_LONG"?3:e==="TEMPORARY"?4:-1)}}var pc=(()=>{class t{set response(e){this.type=Fa(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=F({type:t,selectors:[["oe-history-data-error"]],inputs:{response:"response"},standalone:!1,decls:1,vars:1,consts:[["lines","full","color","warning"],["size","large","slot","start","name","warning-outline"],[1,"ion-text-wrap",2,"text-align","center"],[3,"innerHTML"],["translate",""]],template:function(i,r){i&1&&P(0,Ba,5,1,"ion-item",0),i&2&&I(r.type!==null?0:-1)},dependencies:[ve,we,Ce,kt,Je],encapsulation:2})}}return t})();function Fa(t){let a=t?.error?.message;if(a===void 0)return null;switch(a){case"Die Anzeige und der Export von Daten \xFCber einen l\xE4ngeren Zeitraum ist derzeit leider nicht m\xF6glich":return"TOO_LONG";default:return"TEMPORARY"}}var Dr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=ee({imports:[be,Ve,Be]})}}return t})();var br=t=>({myDpHeaderBtnDisabled:t}),Ra=(t,a)=>({myDpYearLabel:t,myDpHeaderLabelBtnNotEdit:a}),Na=(t,a)=>({myDpMonthLabel:t,myDpHeaderLabelBtnNotEdit:a});function La(t,a){if(t&1){let e=B();p(0,"button",8),k("click",function(r){A(e);let o=y();return S(o.opts.monthSelector&&o.onMonthViewBtnClicked(r))}),M(1),f()}if(t&2){let e=y();T("tabindex",lt(e.opts.monthSelector?"0":"-1"))("ngClass",si(4,Na,e.opts.monthSelector,!e.opts.monthSelector)),m(),W(e.visibleMonth.monthTxt)}}var wi=(t,a,e,i)=>({"ng-myrtl":t,myDpFooter:a,myDpNoFooter:e,myDpViewChangeAnimation:i}),Ya=(t,a,e,i,r,o,n,s,l)=>({myDpRangeColor:t,myDpPrevMonth:a,myDpCurrMonth:e,myDpNextMonth:i,myDpSelectedDay:r,myDpRangeBegin:o,myDpRangeEnd:n,myDpDisabled:s,myDpTableSingleDay:l}),Ha=(t,a,e)=>({myDpMarkCurrDay:t,myDpDimDay:a,myDpHighlight:e}),Ci=t=>[t],ja=t=>({"border-top":t});function Wa(t,a){t&1&&(p(0,"th",1),M(1,"#"),f())}function za(t,a){if(t&1&&(p(0,"th",2),M(1),f()),t&2){let e=a.$implicit;m(),W(e)}}function Ja(t,a){if(t&1&&(p(0,"td",3),M(1),f()),t&2){let e=y().$implicit;m(),W(e.weekNbr)}}function Ga(t,a){if(t&1&&R(0,"span",6),t&2){let e=y().$implicit;T("ngStyle",q(1,ja,"8px solid "+e.markedDate.color))}}function Ua(t,a){if(t&1){let e=B();p(0,"td",5),k("click",function(r){let o=A(e).$implicit,n=y(2);return S(n.onDayCellClicked(r,o))})("keydown",function(r){let o=A(e).$implicit,n=y(2);return S(n.onDayCellKeyDown(r,o))})("mouseenter",function(){let r=A(e).$implicit,o=y(2);return S(o.onDayCellMouseEnter(r))})("mouseleave",function(){A(e);let r=y(2);return S(r.onDayCellMouseLeave())}),P(1,Ga,1,3,"span",6),p(2,"span",7),N(3,"date"),M(4),f()()}if(t&2){let e=a.$implicit,i=y(2);st(zi("d_",e.row,"_",e.col," myDpDaycell ",e.markedDate.styleClass," ",e.disabledDate.styleClass)),T("id",We("d_",e.row,"_",e.col))("ngClass",Gi(21,Ya,[i.isDateInRange(e.dateObj)||e.range,e.cmo===i.prevMonthId,e.cmo===i.currMonthId&&!e.disabledDate.disabled,e.cmo===i.nextMonthId,i.isDaySelected(e),i.opts.dateRange&&i.isDateRangeBegin(e.dateObj),i.opts.dateRange&&i.isDateRangeEnd(e.dateObj),e.disabledDate.disabled&&!e.disabledDate.styleClass.length,!e.disabledDate.disabled])),ue("aria-current",e.currDay?"date":null)("aria-disabled",e.disabledDate.disabled||null)("aria-selected",i.isDaySelected(e)||null)("tabindex",e.disabledDate.disabled?-1:0),m(),I(e.markedDate.marked&&e.markedDate.color.length?1:-1),m(),T("ngClass",Ct(31,Ha,e.currDay&&i.opts.markCurrentDay,e.highlight&&(e.cmo===i.prevMonthId||e.cmo===i.nextMonthId||e.disabledDate.disabled),e.highlight)),ue("aria-label",q(35,Ci,xt(3,18,e.dateObj.month+"/"+e.dateObj.day+"/"+e.dateObj.year,"fullDate"))),m(2),W(e.dateObj.day)}}function Ka(t,a){if(t&1&&(p(0,"tr"),P(1,Ja,2,1,"td",3),ie(2,Ua,5,37,"td",4,De),f()),t&2){let e=a.$implicit,i=y();m(),I(i.opts.showWeekNumbers&&i.opts.firstDayOfWeek==="mo"?1:-1),m(),re(e.week)}}var Qa=(t,a,e)=>({myDpSelectedMonth:t,myDpDisabled:a,myDpTableSingleMonth:e}),qa=t=>({myDpMarkCurrMonth:t});function Za(t,a){if(t&1&&(p(0,"span",3),M(1),f()),t&2){let e=y().$implicit;m(),W(e.nbr)}}function Xa(t,a){if(t&1){let e=B();p(0,"td",2),k("click",function(r){let o=A(e).$implicit,n=y(2);return S(n.onMonthCellClicked(r,o))})("keydown",function(r){let o=A(e).$implicit,n=y(2);return S(n.onMonthCellKeyDown(r,o))}),P(1,Za,2,1,"span",3),p(2,"span",4),N(3,"date"),M(4),f()()}if(t&2){let e=a.$implicit,i=y(2);st(We("m_",e.row,"_",e.col," myDpMonthcell")),T("id",We("m_",e.row,"_",e.col))("ngClass",Ct(19,Qa,e.selected,e.disabled,!e.disabled)),ue("aria-current",e.currMonth?"date":null)("aria-disabled",e.disabled||null)("aria-selected",e.selected||null)("tabindex",e.disabled?-1:0),m(),I(i.opts.showMonthNumber?1:-1),m(),T("ngClass",q(23,qa,e.currMonth&&i.opts.markCurrentMonth)),ue("aria-label",q(25,Ci,xt(3,16,e.nbr+"/1/"+e.year,"MMMM yyyy"))),m(2),W(e.name)}}function $a(t,a){if(t&1&&(p(0,"tr"),ie(1,Xa,5,27,"td",1,De),f()),t&2){let e=a.$implicit;m(),re(e)}}var en=(t,a,e)=>({myDpSelectedYear:t,myDpDisabled:a,myDpTableSingleYear:e}),tn=t=>({myDpMarkCurrYear:t});function rn(t,a){if(t&1){let e=B();p(0,"td",2),k("click",function(r){let o=A(e).$implicit,n=y(2);return S(n.onYearCellClicked(r,o))})("keydown",function(r){let o=A(e).$implicit,n=y(2);return S(n.onYearCellKeyDown(r,o))}),p(1,"span",3),N(2,"date"),M(3),f()()}if(t&2){let e=a.$implicit,i=y(2);st(We("y_",e.row,"_",e.col," myDpYearcell")),T("id",We("y_",e.row,"_",e.col))("ngClass",Ct(18,en,e.selected,e.disabled,!e.disabled)),ue("aria-current",e.currYear?"date":null)("aria-disabled",e.disabled||null)("aria-selected",e.selected||null)("tabindex",e.disabled?-1:0),m(),T("ngClass",q(22,tn,e.currYear&&i.opts.markCurrentYear)),ue("aria-label",q(24,Ci,xt(2,15,"1/1/"+e.year,"yyyy"))),m(2),W(e.year)}}function on(t,a){if(t&1&&(p(0,"tr"),ie(1,rn,4,26,"td",1,De),f()),t&2){let e=a.$implicit;m(),re(e)}}var an=["selectorEl"],nn=["styleEl"],sn=(t,a,e,i)=>({inline:t,selectorWidth:a,selectorHeight:e,selectorPos:i}),ln=(t,a,e,i,r)=>({myDpSelectorArrow:t,myDpSelectorArrowLeft:a,myDpSelectorArrowRight:e,myDpSelectorAbsolute:i,myDpSelectorPosInitial:r});function dn(t,a){if(t&1){let e=B();p(0,"lib-day-view",8),k("dayCellClicked",function(r){A(e);let o=y();return S(o.onDayCellClicked(r))})("dayCellKeyDown",function(r){A(e);let o=y();return S(o.onDayCellKeyDown(r))})("viewActivated",function(r){A(e);let o=y();return S(o.onViewActivated(r))}),f()}if(t&2){let e=y();T("opts",e.opts)("dates",e.dates)("weekDays",e.weekDays)("selectedDate",e.selectedDate)("selectedDateRange",e.selectedDateRange)("viewChanged",e.viewChanged)}}function cn(t,a){if(t&1){let e=B();p(0,"lib-month-view",9),k("monthCellClicked",function(r){A(e);let o=y();return S(o.onMonthCellClicked(r))})("monthCellKeyDown",function(r){A(e);let o=y();return S(o.onMonthCellKeyDown(r))})("viewActivated",function(r){A(e);let o=y();return S(o.onViewActivated(r))}),f()}if(t&2){let e=y();T("opts",e.opts)("months",e.months)("viewChanged",e.viewChanged)}}function un(t,a){if(t&1){let e=B();p(0,"lib-year-view",10),k("yearCellClicked",function(r){A(e);let o=y();return S(o.onYearCellClicked(r))})("yearCellKeyDown",function(r){A(e);let o=y();return S(o.onYearCellKeyDown(r))})("viewActivated",function(r){A(e);let o=y();return S(o.onViewActivated(r))}),f()}if(t&2){let e=y();T("opts",e.opts)("years",e.years)("viewChanged",e.viewChanged)}}function hn(t,a){if(t&1){let e=B();p(0,"lib-footer-bar",11),k("footerBarTxtClicked",function(){A(e);let r=y();return S(r.onTodayFooterClicked())}),f()}if(t&2){let e=y();T("opts",e.opts)}}var b=(function(t){return t[t.enter=13]="enter",t[t.esc=27]="esc",t[t.space=32]="space",t[t.leftArrow=37]="leftArrow",t[t.upArrow=38]="upArrow",t[t.rightArrow=39]="rightArrow",t[t.downArrow=40]="downArrow",t[t.tab=9]="tab",t[t.shift=16]="shift",t})(b||{}),se=(function(t){return t.enter="Enter",t.esc="Escape|Esc",t.space=" |Spacebar",t.leftArrow="ArrowLeft|Left",t.upArrow="ArrowUp|Up",t.rightArrow="ArrowRight|Right",t.downArrow="ArrowDown|Down",t.tab="Tab",t.shift="Shift",t})(se||{}),Ft="d",vr="dd",Rt="m",wr="mm",mi="mmm",mn="y",pi="yyyy",Bt="##",Cr="st",xr="nd",Ar="rd",pn=5,Sr=6,fn=3,Tr=2,yn=4,_r=4,gn=".",fi="_",Dn="|",bn=" - ",qr="su",Di="mo",Zr="tu",Xr="we",mt="th",$r="fr",bi="sa",Mr="en",Nt="0",w="",vn=" ",vi="click";var wn="disabled",Cn="body",xn="value",kr="options",Or="defaultMonth",An="locale",Sn="object",yi="px",Tn="style",Pr="innerHTML",de="opts",Ir="yearsDuration",Er="years",Vr="visibleMonth",Br="selectMonth",Fr="selectYear",Rr="prevViewDisabled",Nr="nextViewDisabled",Lr="dates",Yr="weekDays",Hr="selectedDate",jr="selectedDateRange",Wr="months",zr="animationend",_n=550,Jr="myDpAnimation",Gr=["Fade","ScaleTop","ScaleCenter","Rotate","FlipDiagonal","Own"],Ur="In",Mn="Out",gi="tabindex",kn="table tbody tr td:not(.myDpDaycellWeekNbr)",On=50,J=(()=>{class t{constructor(){this.weekDays=[qr,Di,Zr,Xr,mt,$r,bi]}isDateValid(e,i,r){let{dateFormat:o,minYear:n,maxYear:s,monthLabels:l}=i,c=this.resetDate(),d=[31,28,31,30,31,30,31,31,30,31,30,31],u=o.indexOf(mi)!==-1,g=o.match(/[^(d#my)]{1,}/g);if(!e||e===w)return c;let _=this.getDateValue(e,o,g),v=0,C=0,x=0;for(let V of _){if(V.format.indexOf(Bt)!=-1){let Pa=parseInt(V.value.replace(/\D/g,"")),Ia=V.value.replace(/[0-9]/g,"");if(this.getOrdinal(Pa)!==Ia)return c;V.value=V.value.replace(Cr,w).replace(xr,w).replace(Ar,w).replace(mt,w),V.format=V.format.replace(Bt,w)}let{value:K,format:j}=V;if(K&&/^\d+$/.test(K)&&Number(K)===0)return c;j.indexOf(pi)!==-1?v=this.getNumberByValue(V):j.indexOf(Rt)!==-1?C=u?this.getMonthNumberByMonthName(V,l):this.getNumberByValue(V):j.indexOf(Ft)!==-1&&(x=this.getNumberByValue(V))}let{validateDisabledDates:fe,selectedValue:ye}=r;v=v===0&&ye?ye.year:v,C=C===0&&ye?ye.month:C,x=x===0&&ye?ye.day:x;let ge=this.getToday();if(v===0&&(C!==0||x!==0)&&(v=ge.year),C===0&&(v!==0||x!==0)&&(C=ge.month),x===0&&(v!==0||C!==0)&&(x=ge.day),C!==-1&&x!==-1&&v!==-1){if(v<n||v>s||C<1||C>12)return c;let V={year:v,month:C,day:x};return fe&&this.isDisabledDate(V,i).disabled||((v%400===0||v%100!==0&&v%4===0)&&(d[1]=29),x<1||x>d[C-1])?c:V}return c}isDateValidDateRange(e,i,r){let o={begin:this.resetDate(),end:this.resetDate()};if(e&&e.length){let n=e.split(i.dateRangeDatesDelimiter);if(n&&n.length===2){let[s,l]=n,{selectedValue:c}=r;c&&(r.selectedValue=c.begin);let d=this.isDateValid(s,i,r);if(this.isInitializedDate(d)){c&&(r.selectedValue=c.end);let u=this.isDateValid(l,i,r);this.isInitializedDate(u)&&this.isDateSameOrEarlier(d,u)&&(o={begin:d,end:u})}}}return o}getDateValue(e,i,r){let o=w;if(r)for(let d of r)o.indexOf(d)===-1&&(o+=d);let n=new RegExp("["+o+"]"),s=e.split(n),l=i.split(n),c=[];for(let d=0;d<l.length;d++)l[d].indexOf(pi)!==-1&&c.push({value:s[d],format:l[d]}),l[d].indexOf(Rt)!==-1&&c.push({value:s[d],format:l[d]}),l[d].indexOf(Ft)!==-1&&c.push({value:s[d],format:l[d]});return c}getMonthNumberByMonthName(e,i){if(e.value){for(let r=1;r<=12;r++)if(e.value.toLowerCase()===i[r].toLowerCase())return r}return-1}getNumberByValue(e){if(!/^\d+$/.test(e.value))return-1;let i=Number(e.value);return(e.format.length===1&&e.value.length!==1&&i<10||e.format.length===1&&e.value.length!==2&&i>=10||e.format.length===2&&e.value.length>2)&&(i=-1),i}parseDefaultMonth(e){let i={monthTxt:w,monthNbr:0,year:0};if(e!==w){let r=e.split(e.match(/[^0-9]/)[0]);i.monthNbr=r[0].length===2?Number(r[0]):Number(r[1]),i.year=r[0].length===2?Number(r[1]):Number(r[0])}return i}isDisabledDate(e,i){let{minYear:r,maxYear:o,disableUntil:n,disableSince:s,disableWeekends:l,disableDates:c,disableDateRanges:d,disableWeekdays:u,enableDates:g}=i;if(this.dateMatchToDates(e,g))return this.getDisabledValue(!1,w);if(e.year<r&&e.month===12||e.year>o&&e.month===1)return this.getDisabledValue(!0,w);let _=c;if(_.find(x=>x.dates)){for(let x of _)if(this.dateMatchToDates(e,x.dates))return this.getDisabledValue(!0,x.styleClass)}else if(this.dateMatchToDates(e,_))return this.getDisabledValue(!0,w);if(this.isDisabledByDisableUntil(e,n))return this.getDisabledValue(!0,w);if(this.isDisabledByDisableSince(e,s))return this.getDisabledValue(!0,w);if(l){let x=this.getDayNumber(e);if(x===0||x===6)return this.getDisabledValue(!0,w)}let C=this.getDayNumber(e);if(u.length>0){for(let x of u)if(C===this.getWeekdayIndex(x))return this.getDisabledValue(!0,w)}return this.isDisabledByDisableDateRange(e,e,d)?this.getDisabledValue(!0,w):this.getDisabledValue(!1,w)}getDisabledValue(e,i){return{disabled:e,styleClass:i}}dateMatchToDates(e,i){for(let r of i)if((r.year===0||r.year===e.year)&&(r.month===0||r.month===e.month)&&r.day===e.day)return!0;return!1}isDisabledMonth(e,i,r){let{disableUntil:o,disableSince:n,disableDateRanges:s,enableDates:l}=r,c={year:e,month:i,day:this.datesInMonth(i,e)},d={year:e,month:i,day:1};return this.isDatesEnabled(d,c,l)?!1:!!(this.isDisabledByDisableUntil(c,o)||this.isDisabledByDisableSince(d,n)||this.isDisabledByDisableDateRange(d,c,s))}isDisabledYear(e,i){let{disableUntil:r,disableSince:o,disableDateRanges:n,enableDates:s,minYear:l,maxYear:c}=i,d={year:e,month:12,day:31},u={year:e,month:1,day:1};return this.isDatesEnabled(u,d,s)?!1:!!(this.isDisabledByDisableUntil(d,r)||this.isDisabledByDisableSince(u,o)||this.isDisabledByDisableDateRange(u,d,n)||e<l||e>c)}isDisabledByDisableUntil(e,i){return this.isInitializedDate(i)&&this.getTimeInMilliseconds(e)<=this.getTimeInMilliseconds(i)}isDisabledByDisableSince(e,i){return this.isInitializedDate(i)&&this.getTimeInMilliseconds(e)>=this.getTimeInMilliseconds(i)}isPastDatesEnabled(e,i){for(let r of i)if(this.getTimeInMilliseconds(r)<=this.getTimeInMilliseconds(e))return!0;return!1}isFutureDatesEnabled(e,i){for(let r of i)if(this.getTimeInMilliseconds(r)>=this.getTimeInMilliseconds(e))return!0;return!1}isDatesEnabled(e,i,r){for(let o of r)if(this.getTimeInMilliseconds(o)>=this.getTimeInMilliseconds(e)&&this.getTimeInMilliseconds(o)<=this.getTimeInMilliseconds(i))return!0;return!1}isDisabledByDisableDateRange(e,i,r){let o=this.getTimeInMilliseconds(e),n=this.getTimeInMilliseconds(i);for(let s of r)if(this.isInitializedDate(s.begin)&&this.isInitializedDate(s.end)&&o>=this.getTimeInMilliseconds(s.begin)&&n<=this.getTimeInMilliseconds(s.end))return!0;return!1}isMarkedDate(e,i){let{markDates:r,markWeekends:o}=i;for(let n of r)if(this.dateMatchToDates(e,n.dates))return this.getMarkedValue(!0,n.color,n.styleClass);if(o&&o.marked){let n=this.getDayNumber(e);if(n===0||n===6)return this.getMarkedValue(!0,o.color,w)}return this.getMarkedValue(!1,w,w)}getMarkedValue(e,i,r){return{marked:e,color:i||w,styleClass:r||w}}isHighlightedDate(e,i){let{sunHighlight:r,satHighlight:o,highlightDates:n}=i,s=this.getDayNumber(e);return!!(r&&s===0||o&&s===6||this.dateMatchToDates(e,n))}getWeekNumber(e){let i=new Date(e.year,e.month-1,e.day,0,0,0,0);return i.setDate(i.getDate()+(i.getDay()===0?-3:4-i.getDay())),Math.round((i.getTime()-new Date(i.getFullYear(),0,4).getTime())/864e5/7)+1}getDateModel(e,i,r,o,n,s=w){let l=null,c=null;return e?l={date:e,jsDate:this.myDateToJsDate(e),formatted:s.length?s:this.formatDate(e,r,o),epoc:this.getEpocTime(e)}:c={beginDate:i.begin,beginJsDate:this.myDateToJsDate(i.begin),beginEpoc:this.getEpocTime(i.begin),endDate:i.end,endJsDate:this.myDateToJsDate(i.end),endEpoc:this.getEpocTime(i.end),formatted:this.formatDate(i.begin,r,o)+n+this.formatDate(i.end,r,o)},{isRange:e===null,singleDate:l,dateRange:c}}formatDate(e,i,r){let o=i.replace(pi,String(e.year));return i.indexOf(mi)!==-1?o=o.replace(mi,r[e.month]):i.indexOf(wr)!==-1?o=o.replace(wr,this.preZero(e.month)):o=o.replace(Rt,String(e.month)),i.indexOf(vr)!==-1?o=o.replace(vr,this.preZero(e.day)):o=o.replace(Ft,String(e.day)),i.indexOf(Bt)!==-1&&(o=o.replace(Bt,this.getOrdinal(e.day))),o}getOrdinal(e){if(e>3&&e<21)return mt;switch(e%10){case 1:return Cr;case 2:return xr;case 3:return Ar;default:return mt}}getFormattedDate(e){return e.isRange?e.dateRange.formatted:e.singleDate.formatted}preZero(e){return e<10?Nt+e:String(e)}isInitializedDate(e){return e.year!==0&&e.month!==0&&e.day!==0}isDateEarlier(e,i){return this.getTimeInMilliseconds(e)<this.getTimeInMilliseconds(i)}isDateSameOrEarlier(e,i){return this.getTimeInMilliseconds(e)<=this.getTimeInMilliseconds(i)}isDateSame(e,i){return this.getTimeInMilliseconds(e)===this.getTimeInMilliseconds(i)}isDateRangeBeginOrEndSame(e,i){let r=this.getTimeInMilliseconds(i);return this.getTimeInMilliseconds(e.begin)===r||this.getTimeInMilliseconds(e.end)===r}isDateRangeBegin(e,i){let r=this.getTimeInMilliseconds(i);return this.getTimeInMilliseconds(e.begin)===r}isDateRangeEnd(e,i){let r=this.getTimeInMilliseconds(i);return this.getTimeInMilliseconds(e.end)===r}isDateInRange(e,i){return!this.isInitializedDate(i.begin)||!this.isInitializedDate(i.end)?!1:this.isDateSameOrEarlier(i.begin,e)&&this.isDateSameOrEarlier(e,i.end)}resetDate(){return{year:0,month:0,day:0}}getTimeInMilliseconds(e){return this.myDateToJsDate(e).getTime()}getToday(){let e=new Date;return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}getDayNumber(e){return new Date(e.year,e.month-1,e.day,0,0,0,0).getDay()}getWeekdayIndex(e){return this.weekDays.indexOf(e)}getEpocTime(e){return Math.round(this.getTimeInMilliseconds(e)/1e3)}jsDateToMyDate(e){return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}myDateToJsDate(e){let{year:i,month:r,day:o}=e;return new Date(i,r-1,o,0,0,0,0)}datesInMonth(e,i){return new Date(i,e,0).getDate()}datesInPrevMonth(e,i){let r=this.getJsDate(i,e,1);return r.setMonth(r.getMonth()-1),this.datesInMonth(r.getMonth()+1,r.getFullYear())}getJsDate(e,i,r){return new Date(e,i-1,r,0,0,0,0)}getSelectedValue(e,i){if(!e)return null;if(i){let{beginDate:r,endDate:o}=e;return{begin:r,end:o}}else return e.date}getKeyCodeFromEvent(e){let i=e.key||e.keyCode||e.which;return this.checkKeyName(i,se.enter)||i===b.enter?b.enter:this.checkKeyName(i,se.esc)||i===b.esc?b.esc:this.checkKeyName(i,se.space)||i===b.space?b.space:this.checkKeyName(i,se.leftArrow)||i===b.leftArrow?b.leftArrow:this.checkKeyName(i,se.upArrow)||i===b.upArrow?b.upArrow:this.checkKeyName(i,se.rightArrow)||i===b.rightArrow?b.rightArrow:this.checkKeyName(i,se.downArrow)||i===b.downArrow?b.downArrow:this.checkKeyName(i,se.tab)||i===b.tab?b.tab:this.checkKeyName(i,se.shift)||i===b.shift?b.shift:null}checkKeyName(e,i){return i.split(Dn).indexOf(e)!==-1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),le=(function(t){return t[t.prev=1]="prev",t[t.curr=2]="curr",t[t.next=3]="next",t})(le||{}),Lt=(function(t){return t[t.Date=1]="Date",t[t.Month=2]="Month",t[t.Year=3]="Year",t})(Lt||{}),Te=(function(t){return t[t.None=0]="None",t[t.Fade=1]="Fade",t[t.ScaleTop=2]="ScaleTop",t[t.ScaleCenter=3]="ScaleCenter",t[t.Rotate=4]="Rotate",t[t.FlipDiagonal=5]="FlipDiagonal",t[t.Own=6]="Own",t})(Te||{}),pt=(function(t){return t[t.PrevBtnClick=1]="PrevBtnClick",t[t.NextBtnClick=2]="NextBtnClick",t[t.MonthBtnClick=3]="MonthBtnClick",t[t.YearBtnClick=4]="YearBtnClick",t})(pt||{}),Pn=(()=>{class t{constructor(){this.prevNavigateBtnClicked=new O,this.nextNavigateBtnClicked=new O,this.monthViewBtnClicked=new O,this.yearViewBtnClicked=new O}ngOnChanges(e){e.hasOwnProperty(de)&&(this.opts=e[de].currentValue),e.hasOwnProperty(Ir)&&(this.yearsDuration=e[Ir].currentValue),e.hasOwnProperty(Vr)&&(this.visibleMonth=e[Vr].currentValue),e.hasOwnProperty(Br)&&(this.selectMonth=e[Br].currentValue),e.hasOwnProperty(Fr)&&(this.selectYear=e[Fr].currentValue),e.hasOwnProperty(Rr)&&(this.prevViewDisabled=e[Rr].currentValue),e.hasOwnProperty(Nr)&&(this.nextViewDisabled=e[Nr].currentValue)}onPrevNavigateBtnClicked(e){e.stopPropagation(),this.opts.rtl?this.nextNavigateBtnClicked.emit():this.prevNavigateBtnClicked.emit()}onNextNavigateBtnClicked(e){e.stopPropagation(),this.opts.rtl?this.prevNavigateBtnClicked.emit():this.nextNavigateBtnClicked.emit()}onMonthViewBtnClicked(e){e.stopPropagation(),this.monthViewBtnClicked.emit()}onYearViewBtnClicked(e){e.stopPropagation(),this.yearViewBtnClicked.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=F({type:t,selectors:[["lib-selection-bar"]],inputs:{opts:"opts",yearsDuration:"yearsDuration",visibleMonth:"visibleMonth",selectMonth:"selectMonth",selectYear:"selectYear",prevViewDisabled:"prevViewDisabled",nextViewDisabled:"nextViewDisabled"},outputs:{prevNavigateBtnClicked:"prevNavigateBtnClicked",nextNavigateBtnClicked:"nextNavigateBtnClicked",monthViewBtnClicked:"monthViewBtnClicked",yearViewBtnClicked:"yearViewBtnClicked"},standalone:!1,features:[Q],decls:9,vars:22,consts:[[1,"myDpMonthYearSelBar"],[1,"myDpPrevBtn"],["type","button",1,"myDpHeaderBtn","myDpIcon","myDpIconLeftArrow","myDpHeaderBtnEnabled",3,"click","tabindex","disabled","ngClass"],[1,"myDpMonthYearText"],["type","button",1,"myDpHeaderBtn","myDpMonthBtn",3,"tabindex","ngClass"],["type","button",1,"myDpHeaderBtn","myDpYearBtn",3,"click","tabindex","ngClass"],[1,"myDpNextBtn"],["type","button",1,"myDpHeaderBtn","myDpIcon","myDpIconRightArrow","myDpHeaderBtnEnabled",3,"click","tabindex","disabled","ngClass"],["type","button",1,"myDpHeaderBtn","myDpMonthBtn",3,"click","tabindex","ngClass"]],template:function(i,r){i&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),k("click",function(n){return r.onPrevNavigateBtnClicked(n)}),f()(),p(3,"div",3),P(4,La,2,7,"button",4),p(5,"button",5),k("click",function(n){return r.opts.yearSelector&&r.onYearViewBtnClicked(n)}),M(6),f()(),p(7,"div",6)(8,"button",7),k("click",function(n){return r.onNextNavigateBtnClicked(n)}),f()()()),i&2&&(m(2),T("tabindex",lt(r.prevViewDisabled?"-1":"0"))("disabled",r.prevViewDisabled)("ngClass",q(15,br,r.prevViewDisabled)),ue("aria-label",r.opts.ariaLabelPrevMonth),m(2),I(r.selectYear?-1:4),m(),T("tabindex",lt(r.opts.yearSelector?"0":"-1"))("ngClass",si(17,Ra,r.opts.yearSelector,!r.opts.yearSelector)),m(),W(r.selectYear?r.yearsDuration:r.visibleMonth.year),m(2),T("tabindex",lt(r.nextViewDisabled?"-1":"0"))("disabled",r.nextViewDisabled)("ngClass",q(20,br,r.nextViewDisabled)),ue("aria-label",r.opts.ariaLabelNextMonth))},dependencies:[ze],encapsulation:2})}}return t})(),Yt=(function(t){return t[t.Date=1]="Date",t[t.Month=2]="Month",t[t.Year=3]="Year",t})(Yt||{}),In=(()=>{class t{constructor(e){this.utilService=e,this.dayCellClicked=new O,this.dayCellKeyDown=new O,this.viewActivated=new O,this.prevMonthId=le.prev,this.currMonthId=le.curr,this.nextMonthId=le.next}ngOnChanges(e){e.hasOwnProperty(de)&&(this.opts=e[de].currentValue),e.hasOwnProperty(Lr)&&(this.dates=e[Lr].currentValue),e.hasOwnProperty(Yr)&&(this.weekDays=e[Yr].currentValue),e.hasOwnProperty(Hr)&&(this.selectedDate=e[Hr].currentValue),e.hasOwnProperty(jr)&&(this.selectedDateRange=e[jr].currentValue)}ngAfterViewInit(){this.viewActivated.emit(Yt.Date)}onDayCellClicked(e,i){e.stopPropagation(),!i.disabledDate.disabled&&this.dayCellClicked.emit(i)}onDayCellKeyDown(e,i){let r=this.utilService.getKeyCodeFromEvent(e);r!==b.tab&&(e.preventDefault(),r===b.enter||r===b.space?this.onDayCellClicked(e,i):this.opts.moveFocusByArrowKeys&&this.dayCellKeyDown.emit(e))}onDayCellMouseEnter(e){if(this.utilService.isInitializedDate(this.selectedDateRange.begin)&&!this.utilService.isInitializedDate(this.selectedDateRange.end))for(let i of this.dates)for(let r of i.week)r.range=this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin,r.dateObj)&&this.utilService.isDateSameOrEarlier(r.dateObj,e.dateObj)}onDayCellMouseLeave(){for(let e of this.dates)for(let i of e.week)i.range=!1}isDateInRange(e){return this.utilService.isDateInRange(e,this.selectedDateRange)}isDateSame(e){return this.utilService.isDateSame(this.selectedDate,e)}isDateRangeBeginOrEndSame(e){return this.utilService.isDateRangeBeginOrEndSame(this.selectedDateRange,e)}isDateRangeBegin(e){return this.utilService.isDateRangeBegin(this.selectedDateRange,e)}isDateRangeEnd(e){return this.utilService.isDateRangeEnd(this.selectedDateRange,e)}isDaySelected(e){return!this.opts.dateRange&&this.isDateSame(e.dateObj)||this.opts.dateRange&&this.isDateRangeBeginOrEndSame(e.dateObj)}static{this.\u0275fac=function(i){return new(i||t)(D(J))}}static{this.\u0275cmp=F({type:t,selectors:[["lib-day-view"]],inputs:{opts:"opts",dates:"dates",weekDays:"weekDays",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange",viewChanged:"viewChanged"},outputs:{dayCellClicked:"dayCellClicked",dayCellKeyDown:"dayCellKeyDown",viewActivated:"viewActivated"},standalone:!1,features:[Ie([J]),Q],decls:9,vars:7,consts:[[1,"myDpCalTable",3,"ngClass"],[1,"myDpWeekDayTitle","myDpWeekDayTitleWeekNbr"],["scope","col",1,"myDpWeekDayTitle"],[1,"myDpDaycellWeekNbr"],[3,"id","class","ngClass"],[3,"click","keydown","mouseenter","mouseleave","id","ngClass"],[1,"myDpMarkDate",3,"ngStyle"],[1,"myDpDayValue",3,"ngClass"]],template:function(i,r){i&1&&(p(0,"table",0)(1,"thead")(2,"tr"),P(3,Wa,2,0,"th",1),ie(4,za,2,1,"th",2,De),f()(),p(6,"tbody"),ie(7,Ka,4,1,"tr",null,De),f()()),i&2&&(T("ngClass",dt(2,wi,r.opts.rtl,r.opts.showFooterToday,!r.opts.showFooterToday,r.opts.viewChangeAnimation&&r.viewChanged)),m(3),I(r.opts.showWeekNumbers&&r.opts.firstDayOfWeek==="mo"?3:-1),m(),re(r.weekDays),m(3),re(r.dates))},dependencies:[ze,Ui,At],encapsulation:2})}}return t})(),En=(()=>{class t{constructor(e){this.utilService=e,this.monthCellClicked=new O,this.monthCellKeyDown=new O,this.viewActivated=new O}ngOnChanges(e){e.hasOwnProperty(de)&&(this.opts=e[de].currentValue),e.hasOwnProperty(Wr)&&(this.months=e[Wr].currentValue)}ngAfterViewInit(){this.viewActivated.emit(Yt.Month)}onMonthCellClicked(e,i){e.stopPropagation(),!i.disabled&&this.monthCellClicked.emit(i)}onMonthCellKeyDown(e,i){let r=this.utilService.getKeyCodeFromEvent(e);r!==b.tab&&(e.preventDefault(),r===b.enter||r===b.space?this.onMonthCellClicked(e,i):this.opts.moveFocusByArrowKeys&&this.monthCellKeyDown.emit(e))}static{this.\u0275fac=function(i){return new(i||t)(D(J))}}static{this.\u0275cmp=F({type:t,selectors:[["lib-month-view"]],inputs:{opts:"opts",months:"months",viewChanged:"viewChanged"},outputs:{monthCellClicked:"monthCellClicked",monthCellKeyDown:"monthCellKeyDown",viewActivated:"viewActivated"},standalone:!1,features:[Ie([J]),Q],decls:4,vars:6,consts:[[1,"myDpMonthTable",3,"ngClass"],[3,"id","class","ngClass"],[3,"click","keydown","id","ngClass"],["aria-hidden","true",1,"myDpMonthNbr"],[1,"myDpMonthValue",3,"ngClass"]],template:function(i,r){i&1&&(p(0,"table",0)(1,"tbody"),ie(2,$a,3,0,"tr",null,De),f()()),i&2&&(T("ngClass",dt(1,wi,r.opts.rtl,r.opts.showFooterToday,!r.opts.showFooterToday,r.opts.viewChangeAnimation&&r.viewChanged)),m(2),re(r.months))},dependencies:[ze,At],encapsulation:2})}}return t})(),Vn=(()=>{class t{constructor(e){this.utilService=e,this.yearCellClicked=new O,this.yearCellKeyDown=new O,this.viewActivated=new O}ngOnChanges(e){e.hasOwnProperty(de)&&(this.opts=e[de].currentValue),e.hasOwnProperty(Er)&&(this.years=e[Er].currentValue)}ngAfterViewInit(){this.viewActivated.emit(Yt.Year)}onYearCellClicked(e,i){e.stopPropagation(),!i.disabled&&this.yearCellClicked.emit(i)}onYearCellKeyDown(e,i){let r=this.utilService.getKeyCodeFromEvent(e);r!==b.tab&&(e.preventDefault(),r===b.enter||r===b.space?this.onYearCellClicked(e,i):this.opts.moveFocusByArrowKeys&&this.yearCellKeyDown.emit(e))}static{this.\u0275fac=function(i){return new(i||t)(D(J))}}static{this.\u0275cmp=F({type:t,selectors:[["lib-year-view"]],inputs:{opts:"opts",years:"years",viewChanged:"viewChanged"},outputs:{yearCellClicked:"yearCellClicked",yearCellKeyDown:"yearCellKeyDown",viewActivated:"viewActivated"},standalone:!1,features:[Ie([J]),Q],decls:4,vars:6,consts:[[1,"myDpYearTable",3,"ngClass"],[3,"id","class","ngClass"],[3,"click","keydown","id","ngClass"],[1,"myDpYearValue",3,"ngClass"]],template:function(i,r){i&1&&(p(0,"table",0)(1,"tbody"),ie(2,on,3,0,"tr",null,De),f()()),i&2&&(T("ngClass",dt(1,wi,r.opts.rtl,r.opts.showFooterToday,!r.opts.showFooterToday,r.opts.viewChangeAnimation&&r.viewChanged)),m(2),re(r.years))},dependencies:[ze,At],encapsulation:2})}}return t})(),Bn=(()=>{class t{constructor(e){this.utilService=e,this.footerBarTxtClicked=new O,this.footerBarTxt=w}ngOnChanges(e){if(e.hasOwnProperty(de)){this.opts=e[de].currentValue;let{dateFormat:i,monthLabels:r,todayTxt:o}=this.opts,n=this.utilService.getToday();this.footerBarTxt=o+(o.length>0?vn:w)+this.utilService.formatDate(n,i,r)}}onFooterBarTxtClicked(){this.footerBarTxtClicked.emit()}static{this.\u0275fac=function(i){return new(i||t)(D(J))}}static{this.\u0275cmp=F({type:t,selectors:[["lib-footer-bar"]],inputs:{opts:"opts"},outputs:{footerBarTxtClicked:"footerBarTxtClicked"},standalone:!1,features:[Ie([J]),Q],decls:3,vars:1,consts:[[1,"myDpFooterBar"],["type","button",1,"myDpHeaderBtn","myDpFooterBtn",3,"click"]],template:function(i,r){i&1&&(p(0,"div",0)(1,"button",1),k("click",function(){return r.onFooterBarTxtClicked()}),M(2),f()()),i&2&&(m(2),W(r.footerBarTxt))},encapsulation:2})}}return t})(),Fn=(()=>{class t{constructor(e){this.el=e}ngAfterViewInit(){let{inline:e,selectorHeight:i,selectorWidth:r,selectorPos:o}=this.libAngularMyDatePickerCalendar,{style:n}=this.el.nativeElement;n.height=i,n.width=r,n.top=e?"0":o.top,n.left=e?"0":o.left}static{this.\u0275fac=function(i){return new(i||t)(D(He))}}static{this.\u0275dir=nt({type:t,selectors:[["","libAngularMyDatePickerCalendar",""]],inputs:{libAngularMyDatePickerCalendar:"libAngularMyDatePickerCalendar"},standalone:!1})}}return t})(),Rn=(()=>{class t{constructor(e,i,r,o){this.elem=e,this.renderer=i,this.cdr=r,this.utilService=o,this.position="static",this.visibleMonth={monthTxt:w,monthNbr:0,year:0},this.selectedMonth={monthNbr:0,year:0},this.selectedDate={year:0,month:0,day:0},this.selectedDateRange={begin:{year:0,month:0,day:0},end:{year:0,month:0,day:0}},this.weekDays=[],this.dates=[],this.months=[],this.years=[],this.yearsDuration="",this.dayIdx=0,this.weekDayOpts=[qr,Di,Zr,Xr,mt,$r,bi],this.selectMonth=!1,this.selectYear=!1,this.viewChanged=!1,this.selectorPos=null,this.prevViewDisabled=!1,this.nextViewDisabled=!1,this.clickListener=i.listen(e.nativeElement,vi,n=>{(this.opts.monthSelector||this.opts.yearSelector)&&n.target&&this.resetMonthYearSelect()})}ngAfterViewInit(){let{stylesData:e,calendarAnimation:i,inline:r}=this.opts;if(e.styles.length){let o=this.renderer.createElement(Tn);this.renderer.appendChild(o,this.renderer.createText(e.styles)),this.renderer.appendChild(this.styleEl.nativeElement,o)}i.in!==Te.None&&this.setCalendarAnimation(i,!0),r||this.focusToSelector()}ngOnDestroy(){this.clickListener()}initializeComponent(e,i,r,o,n,s,l,c,d,u){this.opts=e,this.selectorPos=n,this.dateChanged=s,this.calendarViewChanged=l,this.rangeDateSelection=c,this.viewActivated=d,this.closedByEsc=u;let{defaultView:g,firstDayOfWeek:_,dayLabels:v}=e;if(this.weekDays.length=0,this.dayIdx=this.weekDayOpts.indexOf(_),this.dayIdx!==-1){let C=this.dayIdx;for(let x=0;x<this.weekDayOpts.length;x++)this.weekDays.push(v[this.weekDayOpts[C]]),C=this.weekDayOpts[C]===bi?0:C+1}this.initializeView(i,r,o),this.setCalendarVisibleMonth(),this.setDefaultView(g)}initializeView(e,i,r){let{dateRange:o}=this.opts,n=this.utilService.getToday();this.selectedMonth={monthNbr:n.month,year:n.year};let{defMonth:s,overrideSelection:l}=e;s&&s.length&&(this.selectedMonth=this.utilService.parseDefaultMonth(s));let c=null;if(o){c={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(i,o)};let{begin:d,end:u}=this.utilService.isDateValidDateRange(r,this.opts,c);this.utilService.isInitializedDate(d)&&this.utilService.isInitializedDate(u)&&(this.selectedDateRange={begin:d,end:u},l||(this.selectedMonth={monthNbr:d.month,year:d.year}))}else{c={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(i,o)};let d=this.utilService.isDateValid(r,this.opts,c);this.utilService.isInitializedDate(d)&&(this.selectedDate=d,l||(this.selectedMonth={monthNbr:d.month,year:d.year}))}}refreshComponent(e,i,r,o){this.opts=e;let{defaultView:n}=e;this.initializeView(i,r,o),this.setCalendarVisibleMonth(),this.setDefaultView(n)}headerAction(e){let{monthSelector:i,yearSelector:r}=this.opts;e===pt.PrevBtnClick?this.prevViewDisabled||this.onPrevNavigateBtnClicked():e===pt.NextBtnClick?this.nextViewDisabled||this.onNextNavigateBtnClicked():e===pt.MonthBtnClick?i&&this.onMonthViewBtnClicked():e===pt.YearBtnClick&&r&&this.onYearViewBtnClicked()}setDefaultView(e){e===Lt.Month?this.monthViewBtnClicked():e===Lt.Year&&this.yearViewBtnClicked()}setCalendarAnimation(e,i){let{nativeElement:r}=this.selectorEl,{renderer:o}=this,n=Jr+Gr[e.in-1];if(i)o.addClass(r,n+Ur);else{let s=Jr+Gr[e.out-1];o.removeClass(r,n+Ur),o.addClass(r,s+Mn)}}resetDateValue(){this.opts.dateRange?(this.selectedDateRange.begin=this.utilService.resetDate(),this.selectedDateRange.end=this.utilService.resetDate()):this.selectedDate=this.utilService.resetDate()}clearDate(){let{month:e,year:i}=this.utilService.getToday();this.selectedMonth={monthNbr:e,year:i},this.resetDateValue(),this.setCalendarVisibleMonth(),this.resetMonthYearSelect()}resetMonthYearSelect(){this.selectMonth=!1,this.selectYear=!1}onMonthViewBtnClicked(){this.viewChanged=!0,this.monthViewBtnClicked()}monthViewBtnClicked(){if(this.selectMonth=!this.selectMonth,this.selectYear=!1,this.cdr.detectChanges(),this.selectMonth)this.generateMonths();else{let{year:e,monthNbr:i}=this.selectedMonth;this.visibleMonth={monthTxt:this.opts.monthLabels[i],monthNbr:i,year:e},this.generateCalendar(i,e,!0)}}onMonthCellClicked(e){this.viewChanged=!0;let{year:i,monthNbr:r}=this.visibleMonth,o=e.nbr!==r;this.visibleMonth={monthTxt:this.opts.monthLabels[e.nbr],monthNbr:e.nbr,year:i},this.selectedMonth.year=i,this.generateCalendar(e.nbr,i,o),this.selectMonth=!1,this.focusToSelector()}onMonthCellKeyDown(e){let{sourceRow:i,sourceCol:r}=this.getSourceRowAndColumnFromEvent(e),{moveFocus:o,targetRow:n,targetCol:s,direction:l}=this.getTargetFocusRowAndColumn(e,i,r,fn,Tr);o&&this.focusCellElement(Rt,n,s,l,Tr)}onYearViewBtnClicked(){this.viewChanged=!0,this.yearViewBtnClicked()}yearViewBtnClicked(){if(this.selectYear=!this.selectYear,this.selectMonth=!1,this.cdr.detectChanges(),this.selectYear)this.generateYears(this.visibleMonth.year);else{let{year:e,monthNbr:i}=this.selectedMonth;this.visibleMonth={monthTxt:this.opts.monthLabels[i],monthNbr:i,year:e},this.generateCalendar(i,e,!0)}}onYearCellClicked(e){this.viewChanged=!0;let{year:i,monthNbr:r,monthTxt:o}=this.visibleMonth,n=e.year!==i;this.visibleMonth={monthTxt:o,monthNbr:r,year:e.year},this.selectedMonth.year=e.year,this.generateCalendar(r,e.year,n),this.selectYear=!1,this.focusToSelector()}onYearCellKeyDown(e){let{sourceRow:i,sourceCol:r}=this.getSourceRowAndColumnFromEvent(e),{moveFocus:o,targetRow:n,targetCol:s,direction:l}=this.getTargetFocusRowAndColumn(e,i,r,yn,_r);o&&this.focusCellElement(mn,n,s,l,_r)}generateMonths(){let e=this.utilService.getToday();this.months.length=0;let{year:i,monthNbr:r}=this.visibleMonth,{rtl:o,monthLabels:n}=this.opts,s=0;for(let l=1;l<=12;l+=3){let c=[],d=o?2:0;for(let u=l;u<l+3;u++){let g=this.utilService.isDisabledMonth(i,u,this.opts);c.push({nbr:u,year:i,name:n[u],currMonth:u===e.month&&i===e.year,selected:u===r&&i===this.selectedMonth.year,disabled:g,row:s,col:o?d--:d++})}s++,this.months.push(c)}this.setMonthViewHeaderBtnDisabledState(i)}generateYears(e){let{minYear:i,maxYear:r,rtl:o}=this.opts,n=e-12;e<i&&(n=i),e+25>r&&(n=r-24);let{year:s}=this.visibleMonth;this.years.length=0;let l=this.utilService.getToday(),c=0;for(let g=n;g<n+25;g+=5){let _=[],v=o?4:0;for(let C=g;C<g+5;C++){let x=this.utilService.isDisabledYear(C,this.opts);_.push({year:C,currYear:C===l.year,selected:C===s,disabled:x,row:c,col:o?v--:v++})}c++,this.years.push(_)}let d=this.getYearValueByRowAndCol(0,0),u=d+24;this.yearsDuration=(o?u:d)+bn+(o?d:u),this.setYearViewHeaderBtnDisabledState(d,u)}onTodayFooterClicked(){let e=this.utilService.getToday();this.selectDate(e)}getYearValueByRowAndCol(e,i){let{years:r}=this;if(!r||r.length===0){let{year:o}=this.utilService.getToday();return o}return r[e][i].year}setCalendarVisibleMonth(){let{year:e,monthNbr:i}=this.selectedMonth;this.visibleMonth={monthTxt:this.opts.monthLabels[i],monthNbr:i,year:e},this.generateCalendar(i,e,!0)}onViewActivated(e){this.viewActivated(e)}onPrevNavigateBtnClicked(){!this.selectMonth&&!this.selectYear?this.setDateViewMonth(!1):this.selectMonth?(this.visibleMonth.year--,this.generateMonths()):this.selectYear&&this.generateYears(this.getYearValueByRowAndCol(2,2)-25)}onNextNavigateBtnClicked(){!this.selectMonth&&!this.selectYear?this.setDateViewMonth(!0):this.selectMonth?(this.visibleMonth.year++,this.generateMonths()):this.selectYear&&this.generateYears(this.getYearValueByRowAndCol(2,2)+25)}setDateViewMonth(e){let i=e?1:-1,{year:r,monthNbr:o}=this.visibleMonth,n=this.utilService.getJsDate(r,o,1);n.setMonth(n.getMonth()+i);let s=n.getFullYear(),l=n.getMonth()+1;this.visibleMonth={monthTxt:this.opts.monthLabels[l],monthNbr:l,year:s},this.generateCalendar(l,s,!0)}onCloseSelector(e){this.utilService.getKeyCodeFromEvent(e)===b.esc&&this.closedByEsc()}onDayCellClicked(e){this.selectDate(e.dateObj),this.resetMonthYearSelect()}onDayCellKeyDown(e){let{sourceRow:i,sourceCol:r}=this.getSourceRowAndColumnFromEvent(e),{moveFocus:o,targetRow:n,targetCol:s,direction:l}=this.getTargetFocusRowAndColumn(e,i,r,pn,Sr);o&&this.focusCellElement(Ft,n,s,l,Sr)}getSourceRowAndColumnFromEvent(e){let i=0,r=0;if(e.target&&e.target.id){let o=e.target.id.split(fi);i=Number(o[1]),r=Number(o[2])}return{sourceRow:i,sourceCol:r}}getTargetFocusRowAndColumn(e,i,r,o,n){let s=!0,l=i,c=r,d=!1,u=this.utilService.getKeyCodeFromEvent(e);return u===b.upArrow&&i>0?l--:u===b.downArrow&&i<o?(l++,d=!0):u===b.leftArrow&&r>0?c--:u===b.rightArrow&&r<n?(c++,d=!0):s=!1,{moveFocus:s,targetRow:l,targetCol:c,direction:d}}focusCellElement(e,i,r,o,n){let s=e+fi+i+fi+r,l=this.selectorEl.nativeElement.querySelector(gn+s);if(l.getAttribute(gi)!==Nt){let c=this.getCalendarElements(),d=i*(n+1)+r,u=null;o?u=c.slice(d).find(g=>g.getAttribute(gi)===Nt):u=c.slice(0,d).reverse().find(g=>g.getAttribute(gi)===Nt),l=u||this.selectorEl.nativeElement}else l.focus()}focusToSelector(){this.selectorEl.nativeElement.focus()}getCalendarElements(){return Array.from(this.selectorEl.nativeElement.querySelectorAll(kn))}selectDate(e){let{dateRange:i,dateFormat:r,monthLabels:o,dateRangeDatesDelimiter:n,closeSelectorOnDateSelect:s}=this.opts;if(i){let l=this.utilService.isInitializedDate(this.selectedDateRange.begin),c=this.utilService.isInitializedDate(this.selectedDateRange.end);l&&c?(this.selectedDateRange.begin=e,this.selectedDateRange.end=this.utilService.resetDate(),this.rangeDateSelection({isBegin:!0,date:e,jsDate:this.utilService.myDateToJsDate(e),dateFormat:r,formatted:this.utilService.formatDate(e,r,o),epoc:this.utilService.getEpocTime(e)})):l?this.utilService.isDateEarlier(e,this.selectedDateRange.begin)?(this.selectedDateRange.begin=e,this.rangeDateSelection({isBegin:!0,date:e,jsDate:this.utilService.myDateToJsDate(e),dateFormat:r,formatted:this.utilService.formatDate(e,r,o),epoc:this.utilService.getEpocTime(e)})):(this.selectedDateRange.end=e,this.rangeDateSelection({isBegin:!1,date:e,jsDate:this.utilService.myDateToJsDate(e),dateFormat:r,formatted:this.utilService.formatDate(e,r,o),epoc:this.utilService.getEpocTime(e)}),this.dateChanged(this.utilService.getDateModel(null,this.selectedDateRange,r,o,n),s)):(this.selectedDateRange.begin=e,this.rangeDateSelection({isBegin:!0,date:e,jsDate:this.utilService.myDateToJsDate(e),dateFormat:r,formatted:this.utilService.formatDate(e,r,o),epoc:this.utilService.getEpocTime(e)}))}else this.selectedDate=e,this.dateChanged(this.utilService.getDateModel(this.selectedDate,null,r,o,n),s)}monthStartIdx(e,i){let r=new Date;r.setDate(1),r.setMonth(i-1),r.setFullYear(e);let o=r.getDay()+this.sundayIdx();return o>=7?o-7:o}isCurrDay(e,i,r,o){return e===o.day&&i===o.month&&r===o.year}getDayNumber(e){let{year:i,month:r,day:o}=e;return this.utilService.getJsDate(i,r,o).getDay()}getWeekday(e){return this.weekDayOpts[this.getDayNumber(e)]}sundayIdx(){return this.dayIdx>0?7-this.dayIdx:0}generateCalendar(e,i,r){this.dates.length=0;let o=this.utilService.getToday(),n=this.monthStartIdx(i,e),s=this.utilService.datesInMonth(e,i),l=this.utilService.datesInPrevMonth(e,i),c=1,d=e,u=le.prev,{rtl:g,showWeekNumbers:_,firstDayOfWeek:v}=this.opts;for(let C=1;C<7;C++){let x=g?6:0,fe=[];if(C===1){let ge=l-n+1;for(let K=ge;K<=l;K++){let j={year:e===1?i-1:i,month:e===1?12:e-1,day:K};fe.push({dateObj:j,cmo:u,currDay:this.isCurrDay(K,d-1,i,o),disabledDate:this.utilService.isDisabledDate(j,this.opts),markedDate:this.utilService.isMarkedDate(j,this.opts),highlight:this.utilService.isHighlightedDate(j,this.opts),row:C-1,col:g?x--:x++})}u=le.curr;let V=7-fe.length;for(let K=0;K<V;K++){let j={year:i,month:e,day:c};fe.push({dateObj:j,cmo:u,currDay:this.isCurrDay(c,e,i,o),disabledDate:this.utilService.isDisabledDate(j,this.opts),markedDate:this.utilService.isMarkedDate(j,this.opts),highlight:this.utilService.isHighlightedDate(j,this.opts),row:C-1,col:g?x--:x++}),c++}}else for(let ge=1;ge<8;ge++){c>s&&(c=1,u=le.next,d=e+1);let V={year:u===le.next&&e===12?i+1:i,month:u===le.curr?e:u===le.next&&e<12?e+1:1,day:c};fe.push({dateObj:V,cmo:u,currDay:this.isCurrDay(c,d,i,o),disabledDate:this.utilService.isDisabledDate(V,this.opts),markedDate:this.utilService.isMarkedDate(V,this.opts),highlight:this.utilService.isHighlightedDate(V,this.opts),row:C-1,col:g?x--:x++}),c++}let ye=_&&v===Di?this.utilService.getWeekNumber(fe[0].dateObj):0;this.dates.push({week:fe,weekNbr:ye})}this.setDateViewHeaderBtnDisabledState(e,i),r&&this.calendarViewChanged({year:i,month:e,first:{number:1,weekday:this.getWeekday({year:i,month:e,day:1})},last:{number:s,weekday:this.getWeekday({year:i,month:e,day:s})}})}setDateViewHeaderBtnDisabledState(e,i){let r=!1,o=!1,{disableHeaderButtons:n,disableUntil:s,disableSince:l,enableDates:c,minYear:d,maxYear:u,rtl:g}=this.opts;if(n){let _={year:e===1?i-1:i,month:e===1?12:e-1,day:this.utilService.datesInMonth(e===1?12:e-1,e===1?i-1:i)},v={year:e===12?i+1:i,month:e===12?1:e+1,day:1};r=this.utilService.isDisabledByDisableUntil(_,s)&&!this.utilService.isPastDatesEnabled(_,c),o=this.utilService.isDisabledByDisableSince(v,l)&&!this.utilService.isFutureDatesEnabled(v,c)}this.prevViewDisabled=e===1&&i===d||r,this.nextViewDisabled=e===12&&i===u||o,g&&this.swapHeaderBtnDisabled()}setMonthViewHeaderBtnDisabledState(e){let i=!1,r=!1,{disableHeaderButtons:o,disableUntil:n,disableSince:s,enableDates:l,minYear:c,maxYear:d,rtl:u}=this.opts;if(o){let g={year:e-1,month:12,day:31},_={year:e+1,month:1,day:1};i=this.utilService.isDisabledByDisableUntil(g,n)&&!this.utilService.isPastDatesEnabled(g,l),r=this.utilService.isDisabledByDisableSince(_,s)&&!this.utilService.isFutureDatesEnabled(_,l)}this.prevViewDisabled=e===c||i,this.nextViewDisabled=e===d||r,u&&this.swapHeaderBtnDisabled()}setYearViewHeaderBtnDisabledState(e,i){let r=!1,o=!1,{disableHeaderButtons:n,disableUntil:s,disableSince:l,enableDates:c,minYear:d,maxYear:u,rtl:g}=this.opts;if(n){let _={year:e-1,month:12,day:31},v={year:i+1,month:1,day:1};r=this.utilService.isDisabledByDisableUntil(_,s)&&!this.utilService.isPastDatesEnabled(_,c),o=this.utilService.isDisabledByDisableSince(v,l)&&!this.utilService.isFutureDatesEnabled(v,c)}this.prevViewDisabled=e<=d||r,this.nextViewDisabled=i>=u||o,g&&this.swapHeaderBtnDisabled()}swapHeaderBtnDisabled(){[this.prevViewDisabled,this.nextViewDisabled]=[this.nextViewDisabled,this.prevViewDisabled]}static{this.\u0275fac=function(i){return new(i||t)(D(He),D(ii),D(Ee),D(J))}}static{this.\u0275cmp=F({type:t,selectors:[["lib-angular-mydatepicker-calendar"]],viewQuery:function(i,r){if(i&1&&(oi(an,7),oi(nn,7)),i&2){let o;ai(o=ni())&&(r.selectorEl=o.first),ai(o=ni())&&(r.styleEl=o.first)}},hostVars:2,hostBindings:function(i,r){i&2&&ji("position",r.position)},standalone:!1,features:[Ie([J])],decls:10,vars:27,consts:[["styleEl",""],["selectorEl",""],["tabindex","0",1,"myDpSelector",3,"keyup","libAngularMyDatePickerCalendar","ngClass"],[3,"prevNavigateBtnClicked","nextNavigateBtnClicked","monthViewBtnClicked","yearViewBtnClicked","opts","yearsDuration","visibleMonth","selectMonth","selectYear","prevViewDisabled","nextViewDisabled"],[3,"opts","dates","weekDays","selectedDate","selectedDateRange","viewChanged"],[3,"opts","months","viewChanged"],[3,"opts","years","viewChanged"],[3,"opts"],[3,"dayCellClicked","dayCellKeyDown","viewActivated","opts","dates","weekDays","selectedDate","selectedDateRange","viewChanged"],[3,"monthCellClicked","monthCellKeyDown","viewActivated","opts","months","viewChanged"],[3,"yearCellClicked","yearCellKeyDown","viewActivated","opts","years","viewChanged"],[3,"footerBarTxtClicked","opts"]],template:function(i,r){if(i&1){let o=B();R(0,"span",null,0),p(2,"div")(3,"div",2,1),k("keyup",function(s){return A(o),S(r.onCloseSelector(s))}),p(5,"lib-selection-bar",3),k("prevNavigateBtnClicked",function(){return A(o),S(r.onPrevNavigateBtnClicked())})("nextNavigateBtnClicked",function(){return A(o),S(r.onNextNavigateBtnClicked())})("monthViewBtnClicked",function(){return A(o),S(r.onMonthViewBtnClicked())})("yearViewBtnClicked",function(){return A(o),S(r.onYearViewBtnClicked())}),f(),P(6,dn,1,6,"lib-day-view",4),P(7,cn,1,3,"lib-month-view",5),P(8,un,1,3,"lib-year-view",6),P(9,hn,1,1,"lib-footer-bar",7),f()()}i&2&&(m(2),st(Wi("ng-mydp ",(r.opts.stylesData==null?null:r.opts.stylesData.selector)||"")),m(),T("libAngularMyDatePickerCalendar",dt(16,sn,r.opts.inline,r.opts.selectorWidth,r.opts.selectorHeight,r.selectorPos))("ngClass",Ji(21,ln,r.opts.showSelectorArrow,r.opts.showSelectorArrow&&!r.opts.alignSelectorRight,r.opts.showSelectorArrow&&r.opts.alignSelectorRight,!r.opts.inline,r.opts.inline)),m(2),T("opts",r.opts)("yearsDuration",r.yearsDuration)("visibleMonth",r.visibleMonth)("selectMonth",r.selectMonth)("selectYear",r.selectYear)("prevViewDisabled",r.prevViewDisabled)("nextViewDisabled",r.nextViewDisabled),m(),I(!r.selectMonth&&!r.selectYear?6:-1),m(),I(r.selectMonth?7:-1),m(),I(r.selectYear?8:-1),m(),I(r.opts.showFooterToday?9:-1))},dependencies:[ze,Pn,In,En,Vn,Bn,Fn],styles:[`.ng-mydp{position:static}.ng-myrtl{direction:rtl}.ng-mydp *{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;padding:0;margin:0}.ng-mydp table{display:table;border-spacing:0}.ng-mydp table td,.ng-mydp table th{padding:0;margin:0;vertical-align:middle;border:none}.myDpSelector{padding:4px;border:1px solid #CCC;background-color:#fff;border-radius:4px;z-index:100000}.myDpViewChangeAnimation{animation:myDpViewChangeAnimation .2s linear}@keyframes myDpViewChangeAnimation{0%{transform:scale(.75);opacity:.1}to{transform:scale(1);opacity:1}}.myDpAnimationFadeIn{animation:myDpAnimationFadeIn .5s linear}@keyframes myDpAnimationFadeIn{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}.myDpAnimationFadeOut{animation:myDpAnimationFadeOut .3s linear forwards}@keyframes myDpAnimationFadeOut{0%{transform:translateY(0);opacity:1}to{transform:translateY(-50px);opacity:0}}.myDpAnimationScaleTopIn{animation:myDpAnimationScaleTopIn .3s linear}@keyframes myDpAnimationScaleTopIn{0%{transform:scaleY(0);transform-origin:100% 0%}to{transform:scaleY(1);transform-origin:100% 0%}}.myDpAnimationScaleTopOut{animation:myDpAnimationScaleTopOut .3s linear forwards}@keyframes myDpAnimationScaleTopOut{0%{transform:scaleY(1);transform-origin:100% 0%;opacity:1}to{transform:scaleY(0);transform-origin:100% 0%;opacity:0}}.myDpAnimationScaleCenterIn{animation:myDpAnimationScaleCenterIn .3s linear}@keyframes myDpAnimationScaleCenterIn{0%{transform:scale(0)}to{transform:scale(1)}}.myDpAnimationScaleCenterOut{animation:myDpAnimationScaleCenterOut .3s linear forwards}@keyframes myDpAnimationScaleCenterOut{0%{transform:scale(1);opacity:1}to{transform:scale(0);opacity:0}}.myDpAnimationRotateIn{animation:myDpAnimationRotateIn .3s linear}@keyframes myDpAnimationRotateIn{0%{transform:scale(.3) rotate(-45deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}.myDpAnimationRotateOut{animation:myDpAnimationRotateOut .3s linear forwards}@keyframes myDpAnimationRotateOut{0%{transform:scale(1) rotate(0);opacity:1}to{transform:scale(.3) rotate(-45deg);opacity:0}}.myDpAnimationFlipDiagonalIn{animation:myDpAnimationFlipDiagonalIn .3s linear}@keyframes myDpAnimationFlipDiagonalIn{0%{transform:rotate3d(1,1,0,-78deg)}to{transform:rotate3d(1,1,0,0)}}.myDpAnimationFlipDiagonalOut{animation:myDpAnimationFlipDiagonalOut .3s linear forwards}@keyframes myDpAnimationFlipDiagonalOut{0%{transform:rotate3d(1,1,0,0);opacity:1}to{transform:rotate3d(1,1,0,78deg);opacity:0}}.myDpSelectorAbsolute{position:absolute}.myDpSelectorPosInitial{position:initial}.myDpSelector:focus{box-shadow:-1px 1px 6px #add8e6;outline:none}.myDpSelectorArrow{background:#fff}.myDpSelectorArrow:after,.myDpSelectorArrow:before{bottom:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute}.myDpSelectorArrow:after{border-color:#fafafa00;border-bottom-color:#fafafa;border-width:10px;margin-left:-10px}.myDpSelectorArrow:before{border-color:#ccc0;border-bottom-color:#ccc;border-width:11px;margin-left:-11px}.myDpSelectorArrow:focus:before{border-bottom-color:#add8e6}.myDpSelectorArrowLeft:after,.myDpSelectorArrowLeft:before{left:24px}.myDpSelectorArrowRight:after,.myDpSelectorArrowRight:before{left:86%}::-ms-clear{display:none}.myDpCalTable,.myDpMonthTable,.myDpYearTable,.myDpFooterBar{border-radius:0 0 4px 4px}.myDpCalTable.myDpNoFooter tbody tr:nth-child(6) td:first-child,.myDpMonthTable.myDpNoFooter tbody tr:nth-child(4) td:first-child,.myDpYearTable.myDpNoFooter tbody tr:nth-child(5) td:first-child{border-bottom-left-radius:4px}.myDpCalTable.myDpNoFooter tbody tr:nth-child(6) td:last-child,.myDpMonthTable.myDpNoFooter tbody tr:nth-child(4) td:last-child,.myDpYearTable.myDpNoFooter tbody tr:nth-child(5) td:last-child{border-bottom-right-radius:4px}.myDpCalTable,.myDpMonthTable,.myDpYearTable{table-layout:fixed;width:100%;background-color:#fff;font-size:14px}.myDpFooter{height:calc(100% - 60px)}.myDpNoFooter{height:calc(100% - 30px)}.myDpCalTable,.myDpMonthTable,.myDpYearTable,.myDpWeekDayTitle,.myDpDaycell,.myDpMonthcell,.myDpYearcell{border-collapse:collapse;color:#333;line-height:1.1}.myDpDaycell,.myDpMonthcell,.myDpYearcell{padding:4px;text-align:center;outline:none}.myDpDaycell{background-color:#fff;position:relative}.myDpWeekDayTitle{background-color:transparent;color:#333;font-size:13px;font-weight:400;vertical-align:middle;max-width:36px;overflow:hidden;white-space:nowrap;height:23px;text-align:center}.myDpWeekDayTitleWeekNbr{width:20px}.myDpMonthcell{background-color:#fff;overflow:hidden;white-space:nowrap}.myDpYearcell{background-color:#fff;width:20%}.myDpMonthNbr{font-size:10px;display:block}.myDpDaycellWeekNbr{font-size:9px;cursor:default;text-align:center;color:#333}.myDpPrevMonth,.myDpNextMonth{color:#999}.myDpMonthYearSelBar{display:flex;height:30px;background-color:#fff;border-top-left-radius:4px;border-top-right-radius:4px}.myDpPrevBtn{margin-left:10px}.myDpNextBtn{margin-left:auto;margin-right:10px}.myDpMonthYearText{width:100%;line-height:30px;text-align:center}.myDpFooterBar{display:flex;align-items:center;justify-content:center;height:30px;background-color:#fff}.myDpHeaderBtn{background:transparent;padding:0;border:none;line-height:30px;height:28px;margin-top:1px;color:#000;outline:none;cursor:default}.myDpFooterBtn{margin:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.myDpMonthBtn,.myDpYearBtn{font-size:16px}.myDpMonthBtn{margin-right:6px}.myDpHighlight{color:#c30000}.myDpDimDay{opacity:.5}.myDpCurrMonth{background-color:#fff;font-weight:400}.myDpMarkDate{position:absolute;top:2px;left:2px;border-right:8px solid transparent}.myDpMarkCurrDay,.myDpMarkCurrMonth,.myDpMarkCurrYear{border-bottom:2px solid #333}.myDpHeaderLabelBtnNotEdit{cursor:default}.myDpHeaderBtn::-moz-focus-inner,.myDpPrevBtn::-moz-focus-inner,.myDpNextBtn::-moz-focus-inner{border:0}.myDpHeaderBtn:focus,.myDpMonthLabel:focus,.myDpYearLabel:focus,.myDpFooterBtn:focus{color:#66afe9;outline:none}.myDpDaycell:focus,.myDpMonthcell:focus,.myDpYearcell:focus{box-shadow:inset 0 0 0 1px #66afe9}.myDpTableSingleDay:hover,.myDpTableSingleMonth:hover,.myDpTableSingleYear:hover{background-color:#ddd}.myDpMonthLabel,.myDpYearLabel,.myDpDaycell,.myDpMonthcell,.myDpYearcell{cursor:pointer}.myDpHeaderBtnEnabled:hover,.myDpMonthLabel:hover,.myDpYearLabel:hover,.myDpFooterBtn:hover{color:#777}.myDpHeaderBtnEnabled{cursor:pointer}.myDpHeaderBtnDisabled{cursor:not-allowed;opacity:.65}.myDpDisabled{cursor:default;color:#777;background:repeating-linear-gradient(-45deg,#ccc 7px,#ccc 8px,transparent 7px,transparent 14px)}.myDpRangeColor{background-color:#dbeaff}.myDpRangeBegin,.myDpRangeEnd,.myDpSelectedDay,.myDpSelectedMonth,.myDpSelectedYear{border:none;background-color:#8ebfff}@font-face{font-family:angular-mydatepicker;src:url(data:application/octet-stream;base64,d09GRgABAAAAAAs4AA8AAAAAE+gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEi5Y21hcAAAAdgAAABQAAABfohD7KljdnQgAAACKAAAABMAAAAgBtX/BGZwZ20AAAI8AAAFkAAAC3CKkZBZZ2FzcAAAB8wAAAAIAAAACAAAABBnbHlmAAAH1AAAAL8AAAEAS//bfWhlYWQAAAiUAAAAMQAAADYW6nhraGhlYQAACMgAAAAbAAAAJAc8A1ZobXR4AAAI5AAAAAwAAAAMCXwAAGxvY2EAAAjwAAAACAAAAAgAQACAbWF4cAAACPgAAAAgAAAAIACmC5tuYW1lAAAJGAAAAXcAAALNzJ0fIXBvc3QAAAqQAAAAKwAAAEAj+eC8cHJlcAAACrwAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZknMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4wMgf9z2KIYg5imAYUZgTJAQDMhAtXAHic7ZCxDYAwDATPiaFAjEFBwTBU7F+yRfK2GYOX7qR/uTKwAF1cwsEejMit1XLvbLk7R9547K+NIRNW93STVv7s6fNrLf5U1OcK2gTMuAtdeJxjYEADEhDIHPQ/C4QBEmwD3QB4nK1WaXfTRhQdeUmchCwlCy1qYcTEabBGJmzBgAlBsmMgXZytlaCLFDvpvvGJ3+Bf82Tac+g3flrvGy8kkLTncJqTo3fnzdXM22USWpLYC+uRlJsvxdTWJo3sPAnphk3LUXwoO3shZYrJ3wVREK2W2rcdh0REIlC1rrBEEPseWZpkfOhRRsu2pFdNyi096S5b40G9Vd9+GjrKsTuhpGYzdGg9siVVGFWiSKY9UtKmZaj6K0krvL/CzFfNUMKITiJpvBnG0EjeG2e0ymg1tuMoimyy3ChSJJrhQRR5lNUS5+SKCQzKB82Q8sqnEeXD/Iis2KOcVrBLttP8vi95p3c5P7Ffb1G25EAfyI7s4Ox0JV+EW1th3LST7ShUEXbXd0Js2exU/2aP8ppGA7crMr3QjGCpfIUQKz+hzP4hWS2cT/mSR6NaspETQetlTuxLPoHW44gpcc0YWdDd0QkR1P2SMwz2mD4e/PHeKZYLEwJ4HMt6RyWcCBMpYXM0SdowcmAlZYsqqfWumDjldVrEW8J+7drRl85o41B3YjxbDx1bOVHJ8WhSp5lMndpJzaMpDaKUdCZ4zK8DKD+iSV5tYzWJlUfTOGbGhEQiAi3cS1NBLDuxpCkEzaMZvbkbprl2LVqkyQP13KP39OZWuLnTU9oO9LNGf1anYjrYC9PpaeQv8Wna5SJF6frpGX5M4kHWAjKRLTbDlIMHb/0O0svXlhyF1wbY7u3zK6h91kTwpAH7G9AeT9UpCUyFmFWIVkBirWtZlsnVrBapyNR3Q5pWvqzTBIpyHBfHvoxx/V8zM5aYEr7fidOzIy49c+1LCNMcfJt1PZrXqcVyAXFmeU6nWZbv6zTH8gOd5lme1+kIS1unoyw/1GmB5Uc6HWN5QQuadN/BkIsw5AIOkDCEpQNDWF6CISwVDGG5CENYFmEIyyUYwvJjGMJyGYawvKxl1dRTSePamVgGbEJgYo4eucxF5WoquVRCu2hUakOeEm6VVBTPqn9loF488oY5sBZIl8iaXzHOlY9G5fjWFS1vGjtXwLHqbx+O9jnxUtaLhT8F/9XWVCW9Ys3Dk6vwG4aebCeqNql4dE2Xz1U9uv5fVFRYC/QbSIVYKMqybHBnIoSPOp2GaqCVQ8xszDy063XLmp/D/TcxQhZQ/fg3FBoL3INOWUlZ7eCs1dfbstw7g3I4EyxJMTfz+lb4IiOz0n6RWcqej3wecAWMSmXYagOtFbzZJzEPmd4kzwRxW1E2SNrYzgSJDRzzgHnznQQmYeqqDeRO4YYN+AVhbsF5J1yieqMsh+5F7PMopPxbp+JE9qhojMCz2Rthr+9Cym9xDCQ0+aV+DFQVoakYNRXQNFJuqAZfxtm6bULGDvQjKnbDsqziw8cW95WSbRmEfKSI1aOjn9Zeok6q3H5mFJfvnb4FwSA1MX9733RxkMq7WskyR20DU7calVPXmkPjVYfq5lH1vePsEzlrmm66Jx56X9Oq28HFXCyw9m0O0lImF9T1YYUNosvFpVDqZTRJ77gHGBYY0O9Qio3/q/rYfJ4rVYXRcSTfTtS30edgDPwP2H9H9QPQ92Pocg0uz/eaE59u9OFsma6iF+un6Dcwa625WboG3NB0A+IhR62OuMoNfKcGcXqkuRzpIeBj3RXiAcAmgMXgE921jOZTAKP5jDk+wOfMYdBkDoMt5jDYZs4awA5zGOwyh8Eecxh8wZx1gC+ZwyBkDoOIOQyeMCcAeMocBl8xh8HXzGHwDXPuA3zLHAYxcxgkzGGwr+nWMMwtXtBdoLZBVaADU09Y3MPiUFNlyP6OF4b9vUHM/sEgpv6o6faQ+hMvDPVng5j6i0FM/VXTnSH1N14Y6u8GMfUPg5j6TL8Yy2UGv4x8lwoHlF1sPufvifcP28VAuQABAAH//wAPeJxjYGRg+H+AaQazC4MIg+5WRkYGRkZ37w0qAREO3AwMjAwFQD4Po6e0AyeQw5jPwMCQFrlFXJyJVUybk0lMhJ+RTUmdUc3EnNHMSJ5RTISp7991Rk0urlhuGe5/SdzcjPO45LhiuZhW/bvx7zqYycU4H0gzzuPmjuWSYwBZAbK/BGo/J1H2ywiB7QfarQ+ymxNI2AMdIA5yQBbQWhnuWKDVGv9ugC0BWsbFmPkvEeIqRk1GDYgCkEIGAB9cLoQAeJxjYGRgYABic9F3f+P5bb4ycDO/AIow3Pw4yxFB/z/A/ILZBcjlYGACiQIAcjgNFAAAAHicY2BkYGAO+p8FJF8wMIBJRgZUwAwAXPcDmgAD6AAAAsoAAALKAAAAAAAAAEAAgAABAAAAAwAVAAEAAAAAAAIABAAUAHMAAAAqC3AAAAAAeJx1kMtOwkAUhv+RiwqJGk3cOisDMZZL4gISEhIMbHRDDFtTSmlLSodMBxJew3fwYXwJn8WfdjAGYpvpfOebM2dOB8A1viGQP08cOQucMcr5BKfoWS7QP1sukl8sl1DFm+Uy/bvlCh4QWK7iBh+sIIrnjBb4tCxwJS4tn+BC3Fku0D9aLpJ7lku4Fa+Wy/Se5QomIrVcxb34GqjVVkdBaGRtUJftZqsjp1upqKLEjaW7NqHSqezLuUqMH8fK8dRyz2M/WMeu3of7eeLrNFKJbDnNvRr5ia9d48921dNN0DZmLudaLeXQZsiVVgvfM05ozKrbaPw9DwMorLCFRsSrCmEgUaOtc26jiRY6pCkzJDPzrAgJXMQ0LtbcEWYrKeM+x5xRQuszIyY78PhdHvkxKeD+mFX00ephPCHtzogyL9mXw+4Os0akJMt0Mzv77T3Fhqe1aQ137brUWVcSw4MakvexW1vQePROdiuGtosG33/+7wfseIRVAHicY2BigAAuBuyAmZGJkZmRhYEzJzWtRDe/IDWPqygzPQPCZGAAAGN+B7YAeJxj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxlYnTYxMDJogRibuZgYOSAsPgYwi81pF9MBoDQnkM3utIvBAcJmZnDZqMLYERixwaEjYiNzistGNRBvF0cDAyOLQ0dySARISSQQbOZhYuTR2sH4v3UDS+9GJgYXAAx2I/QAAA==) format("woff");font-weight:400;font-style:normal}.myDpIcon{font-family:angular-mydatepicker;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#222;font-size:20px}.myDpIconLeftArrow:before{content:"\\e800"}.myDpIconRightArrow:before{content:"\\e801"}
`],encapsulation:2})}}return t})(),Kr=(()=>{class t{constructor(){this.locales={en:{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"mm/dd/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Today"},he:{dayLabels:{su:"\u05E8\u05D0",mo:"\u05E9\u05E0",tu:"\u05E9\u05DC",we:"\u05E8\u05D1",th:"\u05D7\u05DE",fr:"\u05E9\u05D9",sa:"\u05E9\u05D1"},monthLabels:{1:"\u05D9\u05E0\u05D5",2:"\u05E4\u05D1\u05E8",3:"\u05DE\u05E8\u05E5",4:"\u05D0\u05E4\u05E8",5:"\u05DE\u05D0\u05D9",6:"\u05D9\u05D5\u05E0",7:"\u05D9\u05D5\u05DC",8:"\u05D0\u05D5\u05D2",9:"\u05E1\u05E4\u05D8",10:"\u05D0\u05D5\u05E7",11:"\u05E0\u05D5\u05D1",12:"\u05D3\u05E6\u05DE"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"su",sunHighlight:!1,todayTxt:"\u05D4\u05D9\u05D5\u05DD"},ja:{dayLabels:{su:"\u65E5",mo:"\u6708",tu:"\u706B",we:"\u6C34",th:"\u6728",fr:"\u91D1",sa:"\u571F"},monthLabels:{1:"\uFF11\u6708",2:"\uFF12\u6708",3:"\uFF13\u6708",4:"\uFF14\u6708",5:"\uFF15\u6708",6:"\uFF16\u6708",7:"\uFF17\u6708",8:"\uFF18\u6708",9:"\uFF19\u6708",10:"\uFF11\uFF10\u6708",11:"\uFF11\uFF11\u6708",12:"\uFF11\uFF12\u6708"},dateFormat:"yyyy.mm.dd",sunHighlight:!1,todayTxt:"\u4ECA\u65E5"},fr:{dayLabels:{su:"Dim",mo:"Lun",tu:"Mar",we:"Mer",th:"Jeu",fr:"Ven",sa:"Sam"},monthLabels:{1:"Jan",2:"F\xE9v",3:"Mar",4:"Avr",5:"Mai",6:"Juin",7:"Juil",8:"Ao\xFB",9:"Sep",10:"Oct",11:"Nov",12:"D\xE9c"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Aujourd'hui"},"fr-ch":{dayLabels:{su:"Dim",mo:"Lun",tu:"Mar",we:"Mer",th:"Jeu",fr:"Ven",sa:"Sam"},monthLabels:{1:"Jan",2:"F\xE9v",3:"Mar",4:"Avr",5:"Mai",6:"Juin",7:"Juil",8:"Ao\xFB",9:"Sep",10:"Oct",11:"Nov",12:"D\xE9c"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Aujourd'hui"},fi:{dayLabels:{su:"Su",mo:"Ma",tu:"Ti",we:"Ke",th:"To",fr:"Pe",sa:"La"},monthLabels:{1:"Tam",2:"Hel",3:"Maa",4:"Huh",5:"Tou",6:"Kes",7:"Hei",8:"Elo",9:"Syy",10:"Lok",11:"Mar",12:"Jou"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"T\xE4n\xE4\xE4n"},es:{dayLabels:{su:"Do",mo:"Lu",tu:"Ma",we:"Mi",th:"Ju",fr:"Vi",sa:"Sa"},monthLabels:{1:"Ene",2:"Feb",3:"Mar",4:"Abr",5:"May",6:"Jun",7:"Jul",8:"Ago",9:"Sep",10:"Oct",11:"Nov",12:"Dic"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Hoy"},hu:{dayLabels:{su:"Vas",mo:"H\xE9t",tu:"Kedd",we:"Sze",th:"Cs\xFC",fr:"P\xE9n",sa:"Szo"},monthLabels:{1:"Jan",2:"Feb",3:"M\xE1r",4:"\xC1pr",5:"M\xE1j",6:"J\xFAn",7:"J\xFAl",8:"Aug",9:"Szep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Ma"},sv:{dayLabels:{su:"S\xF6n",mo:"M\xE5n",tu:"Tis",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xF6r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Idag"},nl:{dayLabels:{su:"Zon",mo:"Maa",tu:"Din",we:"Woe",th:"Don",fr:"Vri",sa:"Zat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"d-m-yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Vandaag"},"nl-be":{dayLabels:{su:"Zon",mo:"Maa",tu:"Din",we:"Woe",th:"Don",fr:"Vri",sa:"Zat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"d/m/yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Vandaag"},ru:{dayLabels:{su:"\u0412\u0441",mo:"\u041F\u043D",tu:"\u0412\u0442",we:"\u0421\u0440",th:"\u0427\u0442",fr:"\u041F\u0442",sa:"\u0421\u0431"},monthLabels:{1:"\u042F\u043D\u0432",2:"\u0424\u0435\u0432",3:"\u041C\u0430\u0440\u0442",4:"\u0410\u043F\u0440",5:"\u041C\u0430\u0439",6:"\u0418\u044E\u043D\u044C",7:"\u0418\u044E\u043B\u044C",8:"\u0410\u0432\u0433",9:"\u0421\u0435\u043D\u0442",10:"\u041E\u043A\u0442",11:"\u041D\u043E\u044F",12:"\u0414\u0435\u043A"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F"},uk:{dayLabels:{su:"\u041D\u0434",mo:"\u041F\u043D",tu:"\u0412\u0442",we:"\u0421\u0440",th:"\u0427\u0442",fr:"\u041F\u0442",sa:"\u0421\u0431"},monthLabels:{1:"\u0421\u0456\u0447",2:"\u041B\u044E\u0442",3:"\u0411\u0435\u0440",4:"\u041A\u0432\u0456",5:"\u0422\u0440\u0430",6:"\u0427\u0435\u0440",7:"\u041B\u0438\u043F",8:"\u0421\u0435\u0440",9:"\u0412\u0435\u0440",10:"\u0416\u043E\u0432",11:"\u041B\u0438\u0441",12:"\u0413\u0440\u0443"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456"},uz:{dayLabels:{su:"Yak",mo:"Du",tu:"Se",we:"Cho",th:"Pay",fr:"Ju",sa:"Sha"},monthLabels:{1:"Yan",2:"Fev",3:"Mar",4:"Apr",5:"May",6:"Iyn",7:"Iyl",8:"Avg",9:"Sen",10:"Okt",11:"Noy",12:"Dek"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Bugun"},no:{dayLabels:{su:"S\xF8n",mo:"Man",tu:"Tir",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xF8r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Des"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"I dag"},tr:{dayLabels:{su:"Paz",mo:"Pzt",tu:"Sal",we:"\xC7ar",th:"Per",fr:"Cum",sa:"Cmt"},monthLabels:{1:"Oca",2:"\u015Eub",3:"Mar",4:"Nis",5:"May",6:"Haz",7:"Tem",8:"A\u011Fu",9:"Eyl",10:"Eki",11:"Kas",12:"Ara"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Bug\xFCn"},"pt-br":{dayLabels:{su:"Dom",mo:"Seg",tu:"Ter",we:"Qua",th:"Qui",fr:"Sex",sa:"Sab"},monthLabels:{1:"Jan",2:"Fev",3:"Mar",4:"Abr",5:"Mai",6:"Jun",7:"Jul",8:"Ago",9:"Set",10:"Out",11:"Nov",12:"Dez"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"Hoje"},de:{dayLabels:{su:"So",mo:"Mo",tu:"Di",we:"Mi",th:"Do",fr:"Fr",sa:"Sa"},monthLabels:{1:"Jan",2:"Feb",3:"M\xE4r",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Heute"},"de-ch":{dayLabels:{su:"So",mo:"Mo",tu:"Di",we:"Mi",th:"Do",fr:"Fr",sa:"Sa"},monthLabels:{1:"Jan",2:"Feb",3:"M\xE4r",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Heute"},it:{dayLabels:{su:"Dom",mo:"Lun",tu:"Mar",we:"Mer",th:"Gio",fr:"Ven",sa:"Sab"},monthLabels:{1:"Gen",2:"Feb",3:"Mar",4:"Apr",5:"Mag",6:"Giu",7:"Lug",8:"Ago",9:"Set",10:"Ott",11:"Nov",12:"Dic"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Oggi"},"it-ch":{dayLabels:{su:"Dom",mo:"Lun",tu:"Mar",we:"Mer",th:"Gio",fr:"Ven",sa:"Sab"},monthLabels:{1:"Gen",2:"Feb",3:"Mar",4:"Apr",5:"Mag",6:"Giu",7:"Lug",8:"Ago",9:"Set",10:"Ott",11:"Nov",12:"Dic"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Oggi"},pl:{dayLabels:{su:"Nie",mo:"Pon",tu:"Wto",we:"\u015Aro",th:"Czw",fr:"Pi\u0105",sa:"Sob"},monthLabels:{1:"Sty",2:"Lut",3:"Mar",4:"Kwi",5:"Maj",6:"Cze",7:"Lip",8:"Sie",9:"Wrz",10:"Pa\u017A",11:"Lis",12:"Gru"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Dzisiaj"},my:{dayLabels:{su:"\u1010\u1014\u1004\u103A\u1039\u1002\u1014\u103D\u1031",mo:"\u1010\u1014\u1004\u103A\u1039\u101C\u102C",tu:"\u1021\u1004\u103A\u1039\u1002\u102B",we:"\u1017\u102F\u1012\u1039\u1013\u101F\u1030\u1038",th:"\u1000\u103C\u101E\u1015\u1010\u1031\u1038",fr:"\u101E\u1031\u102C\u1000\u103C\u102C",sa:"\u1005\u1014\u1031"},monthLabels:{1:"\u1007\u1014\u103A\u1014\u101D\u102B\u101B\u102E",2:"\u1016\u1031\u1016\u1031\u102C\u103A\u101D\u102B\u101B\u102E",3:"\u1019\u1010\u103A",4:"\u1027\u1015\u103C\u102E",5:"\u1019\u1031",6:"\u1007\u103D\u1014\u103A",7:"\u1007\u1030\u101C\u102D\u102F\u1004\u103A",8:"\u1029\u1002\u102F\u1010\u103A",9:"\u1005\u1000\u103A\u1010\u1004\u103A\u1018\u102C",10:"\u1021\u1031\u102C\u1000\u103A\u1010\u102D\u102F\u1018\u102C",11:"\u1014\u102D\u102F\u101D\u1004\u103A\u1018\u102C",12:"\u1012\u102E\u1007\u1004\u103A\u1018\u102C"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u101A\u1014\u1031\u1037"},sk:{dayLabels:{su:"Ne",mo:"Po",tu:"Ut",we:"St",th:"\u0160t",fr:"Pi",sa:"So"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"M\xE1j",6:"J\xFAn",7:"J\xFAl",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Dnes"},sl:{dayLabels:{su:"Ned",mo:"Pon",tu:"Tor",we:"Sre",th:"\u010Cet",fr:"Pet",sa:"Sob"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Avg",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd. mm. yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Danes"},"zh-cn":{dayLabels:{su:"\u65E5",mo:"\u4E00",tu:"\u4E8C",we:"\u4E09",th:"\u56DB",fr:"\u4E94",sa:"\u516D"},monthLabels:{1:"1\u6708",2:"2\u6708",3:"3\u6708",4:"4\u6708",5:"5\u6708",6:"6\u6708",7:"7\u6708",8:"8\u6708",9:"9\u6708",10:"10\u6708",11:"11\u6708",12:"12\u6708"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u4ECA\u5929"},ro:{dayLabels:{su:"du",mo:"lu",tu:"ma",we:"mi",th:"jo",fr:"vi",sa:"sa"},monthLabels:{1:"ian",2:"feb",3:"mart",4:"apr",5:"mai",6:"iun",7:"iul",8:"aug",9:"sept",10:"oct",11:"nov",12:"dec"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Ast\u0103zi"},ca:{dayLabels:{su:"dg",mo:"dl",tu:"dt",we:"dc",th:"dj",fr:"dv",sa:"ds"},monthLabels:{1:"Gen",2:"Febr",3:"Mar\xE7",4:"Abr",5:"Maig",6:"Juny",7:"Jul",8:"Ag",9:"Set",10:"Oct",11:"Nov",12:"Des"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Avui"},id:{dayLabels:{su:"Min",mo:"Sen",tu:"Sel",we:"Rab",th:"Kam",fr:"Jum",sa:"Sab"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Ags",9:"Sep",10:"Okt",11:"Nov",12:"Des"},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"Hari ini"},"en-au":{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Today"},"en-gb":{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Today"},"am-et":{dayLabels:{su:"\u12A5\u1211\u12F5",mo:"\u1230\u129E",tu:"\u121B\u12AD\u1230\u129E",we:"\u1228\u1261\u12D5",th:"\u1210\u1219\u1235",fr:"\u12D3\u122D\u1265",sa:"\u1245\u12F3\u121C"},monthLabels:{1:"\u1303\u1295\u12E9",2:"\u134C\u1265\u1229",3:"\u121B\u122D\u127D",4:"\u12A4\u1355\u1228",5:"\u121C\u12ED",6:"\u1301\u1295",7:"\u1301\u120B\u12ED",8:"\u12A6\u1308\u1235",9:"\u1234\u1355\u1274",10:"\u12A6\u12AD\u1270",11:"\u1296\u126C\u121D",12:"\u12F2\u1234\u121D"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u12DB\u122C"},cs:{dayLabels:{su:"Ne",mo:"Po",tu:"\xDAt",we:"St",th:"\u010Ct",fr:"P\xE1",sa:"So"},monthLabels:{1:"Led",2:"\xDAno",3:"B\u0159e",4:"Dub",5:"Kv\u011B",6:"\u010Cvn",7:"\u010Cvc",8:"Srp",9:"Z\xE1\u0159",10:"\u0158\xEDj",11:"Lis",12:"Pro"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Dnes"},el:{dayLabels:{su:"\u039A\u03C5\u03C1",mo:"\u0394\u03B5\u03C5",tu:"\u03A4\u03C1\u03B9",we:"\u03A4\u03B5\u03C4",th:"\u03A0\u03B5\u03BC",fr:"\u03A0\u03B1\u03C1",sa:"\u03A3\u03B1\u03B2"},monthLabels:{1:"\u0399\u03B1\u03BD",2:"\u03A6\u03B5\u03B2",3:"\u039C\u03B1\u03C1",4:"\u0391\u03C0\u03C1",5:"\u039C\u03B1\u03B9",6:"\u0399\u03BF\u03C5\u03BD",7:"\u0399\u03BF\u03C5\u03BB",8:"\u0391\u03C5\u03B3",9:"\u03A3\u03B5\u03C0",10:"\u039F\u03BA\u03C4",11:"\u039D\u03BF\u03B5",12:"\u0394\u03B5\u03BA"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1"},kk:{dayLabels:{su:"\u0416\u043A",mo:"\u0414\u0441",tu:"\u0421\u0441",we:"\u0421\u0440",th:"\u0411\u0441",fr:"\u0416\u043C",sa:"\u0421\u0431"},monthLabels:{1:"\u049A\u0430\u04A3",2:"\u0410\u049B\u043F",3:"\u041D\u0430\u0443",4:"\u0421\u04D9\u0443",5:"\u041C\u0430\u043C",6:"\u041C\u0430\u0443",7:"\u0428\u0456\u043B",8:"\u0422\u0430\u043C",9:"\u049A\u044B\u0440\u043A",10:"\u049A\u0430\u0437",11:"\u049A\u0430\u0440",12:"\u0416\u0435\u043B\u0442"},dateFormat:"dd-mmm-yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0411\u04AF\u0433\u0456\u043D"},th:{dayLabels:{su:"\u0E2D\u0E32",mo:"\u0E08",tu:"\u0E2D",we:"\u0E1E",th:"\u0E1E\u0E24",fr:"\u0E28",sa:"\u0E2A"},monthLabels:{1:"\u0E21.\u0E04",2:"\u0E01.\u0E1E.",3:"\u0E21\u0E35.\u0E04.",4:"\u0E40\u0E21.\u0E22.",5:"\u0E1E.\u0E04.",6:"\u0E21\u0E34.\u0E22.",7:"\u0E01.\u0E04.",8:"\u0E2A.\u0E04.",9:"\u0E01.\u0E22.",10:"\u0E15.\u0E04.",11:"\u0E1E.\u0E22.",12:"\u0E18.\u0E04."},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49"},"ko-kr":{dayLabels:{su:"\uC77C",mo:"\uC6D4",tu:"\uD654",we:"\uC218",th:"\uBAA9",fr:"\uAE08",sa:"\uD1A0"},monthLabels:{1:"1\uC6D4",2:"2\uC6D4",3:"3\uC6D4",4:"4\uC6D4",5:"5\uC6D4",6:"6\uC6D4",7:"7\uC6D4",8:"8\uC6D4",9:"9\uC6D4",10:"10\uC6D4",11:"11\uC6D4",12:"12\uC6D4"},dateFormat:"yyyy mm dd",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\uC624\uB298"},da:{dayLabels:{su:"S\xF8n",mo:"Man",tu:"Tir",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xF8r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"I dag"},lt:{dayLabels:{su:"Sk",mo:"Pr",tu:"An",we:"Tr",th:"Kt",fr:"Pn",sa:"\u0160t"},monthLabels:{1:"Saus.",2:"Vas.",3:"Kov.",4:"Bal.",5:"Geg.",6:"Bir\u017E.",7:"Liep.",8:"Rugp.",9:"Rugs.",10:"Sapl.",11:"Lapkr.",12:"Gruod."},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0160ianien"},vi:{dayLabels:{su:"CN",mo:"T2",tu:"T3",we:"T4",th:"T5",fr:"T6",sa:"T7"},monthLabels:{1:"THG 1",2:"THG 2",3:"THG 3",4:"THG 4",5:"THG 5",6:"THG 6",7:"THG 7",8:"THG 8",9:"THG 9",10:"THG 10",11:"THG 11",12:"THG 12"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"H\xF4m nay"},bn:{dayLabels:{su:"\u09B0\u09AC\u09BF",mo:"\u09B8\u09CB\u09AE",tu:"\u09AE\u0999\u09CD\u0997\u09B2",we:"\u09AC\u09C1\u09A7",th:"\u09AC\u09C3\u09B9\u0983",fr:"\u09B6\u09C1\u0995\u09CD\u09B0",sa:"\u09B6\u09A8\u09BF"},monthLabels:{1:"\u099C\u09BE\u09A8\u09C1",2:"\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1",3:"\u09AE\u09BE\u09B0\u09CD\u099A",4:"\u098F\u09AA\u09CD\u09B0\u09BF\u09B2",5:"\u09AE\u09C7",6:"\u099C\u09C1\u09A8",7:"\u099C\u09C1\u09B2\u09BE\u0987",8:"\u0986\u0997\u09B8\u09CD\u099F",9:"\u09B8\u09C7\u09AA\u09CD\u099F\u09C7",10:"\u0985\u0995\u09CD\u099F\u09CB",11:"\u09A8\u09AD\u09C7",12:"\u09A1\u09BF\u09B8\u09C7"},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\u0986\u099C"},bg:{dayLabels:{su:"\u043D\u0434",mo:"\u043F\u043D",tu:"\u0432\u0442",we:"\u0441\u0440",th:"\u0447\u0442",fr:"\u043F\u0442",sa:"\u0441\u0431"},monthLabels:{1:"\u044F\u043D\u0443.",2:"\u0444\u0435\u0432.",3:"\u043C\u0430\u0440\u0442",4:"\u0430\u043F\u0440.",5:"\u043C\u0430\u0439",6:"\u044E\u043D\u0438",7:"\u044E\u043B\u0438",8:"\u0430\u0432\u0433.",9:"\u0441\u0435\u043F.",10:"\u043E\u043A\u0442.",11:"\u043D\u043E\u0435.",12:"\u0434\u0435\u043A."},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0434\u043D\u0435\u0441"},hr:{dayLabels:{su:"Ne",mo:"Po",tu:"Ul",we:"Sr",th:"\u010Ce",fr:"Pe",sa:"Su"},monthLabels:{1:"Sij",2:"Vel",3:"O\u017Eu",4:"Tra",5:"Svi",6:"Lip",7:"Srp",8:"Kol",9:"Ruj",10:"Lis",11:"Stu",12:"Pro"},dateFormat:"dd.mm.yyyy.",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"danas"},ar:{dayLabels:{su:"\u0627\u0644\u0623\u062D\u062F",mo:"\u0627\u0644\u0627\u062B\u0646\u064A\u0646",tu:"\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621",we:"\u0627\u0644\u0627\u0631\u0628\u0639\u0627\u0621",th:"\u0627\u0644\u062E\u0645\u064A\u0633",fr:"\u0627\u0644\u062C\u0645\u0639\u0629",sa:"\u0627\u0644\u0633\u0628\u062A"},monthLabels:{1:"\u064A\u0646\u0627\u064A\u0631",2:"\u0641\u0628\u0631\u0627\u064A\u0631",3:"\u0645\u0627\u0631\u0633",4:"\u0627\u0628\u0631\u064A\u0644",5:"\u0645\u0627\u064A\u0648",6:"\u064A\u0648\u0646\u064A\u0648",7:"\u064A\u0648\u0644\u064A\u0648",8:"\u0623\u063A\u0633\u0637\u0633",9:"\u0633\u0628\u062A\u0645\u0628\u0631",10:"\u0623\u0643\u062A\u0648\u0628\u0631",11:"\u0646\u0648\u0641\u0645\u0628\u0631",12:"\u062F\u064A\u0633\u0645\u0628\u0631"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"sa",sunHighlight:!0,todayTxt:"\u0627\u0644\u064A\u0648\u0645"},is:{dayLabels:{su:"sun",mo:"m\xE1n",tu:"\xFEri",we:"mi\xF0",th:"fim",fr:"f\xF6s",sa:"lau"},monthLabels:{1:"jan",2:"feb",3:"mar",4:"apr",5:"ma\xED",6:"j\xFAn",7:"j\xFAl",8:"\xE1g\xFA",9:"sep",10:"okt",11:"n\xF3v",12:"des"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\xCD dag"},tw:{dayLabels:{su:"\u9031\u65E5",mo:"\u9031\u4E00",tu:"\u9031\u4E8C",we:"\u9031\u4E09",th:"\u9031\u56DB",fr:"\u9031\u4E94",sa:"\u9031\u516D"},monthLabels:{1:"\u4E00\u6708",2:"\u4E8C\u6708",3:"\u4E09\u6708",4:"\u56DB\u6708",5:"\u4E94\u6708",6:"\u516D\u6708",7:"\u4E03\u6708",8:"\u516B\u6708",9:"\u4E5D\u6708",10:"\u5341\u6708",11:"\u5341\u4E00\u6708",12:"\u5341\u4E8C\u6708"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u4ECA\u5929"},lv:{dayLabels:{su:"S",mo:"P",tu:"O",we:"T",th:"C",fr:"P",sa:"S"},monthLabels:{1:"Janv",2:"Febr",3:"Marts",4:"Apr",5:"Maijs",6:"J\u016Bn",7:"J\u016Bl",8:"Aug",9:"Sept",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0160odien"},et:{dayLabels:{su:"P",mo:"E",tu:"T",we:"K",th:"N",fr:"R",sa:"L"},monthLabels:{1:"Jaan",2:"Veebr",3:"M\xE4rts",4:"Apr",5:"Mai",6:"Juuni",7:"Juuli",8:"Aug",9:"Sept",10:"Okt",11:"Nov",12:"Dets"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"T\xE4na"}}}getLocaleOptions(e=Mr){let i=e.toLowerCase();return this.locales.hasOwnProperty(i)?this.locales[i]:this.locales[Mr]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),Le=(function(t){return t[t.min=1e3]="min",t[t.max=9999]="max",t})(Le||{}),Qr=(()=>{class t{constructor(){this.defaultConfig={dateRange:!1,inline:!1,dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",defaultView:Lt.Date,firstDayOfWeek:"mo",satHighlight:!1,sunHighlight:!0,highlightDates:[],markCurrentDay:!0,markCurrentMonth:!0,markCurrentYear:!0,monthSelector:!0,yearSelector:!0,disableHeaderButtons:!0,showWeekNumbers:!1,selectorHeight:"266px",selectorWidth:"266px",disableUntil:{year:0,month:0,day:0},disableSince:{year:0,month:0,day:0},disableDates:[],disableDateRanges:[],disableWeekends:!1,disableWeekdays:[],enableDates:[],markDates:[],markWeekends:{marked:!1,color:""},alignSelectorRight:!1,openSelectorTopOfInput:!1,closeSelectorOnDateSelect:!0,closeSelectorOnDocumentClick:!0,minYear:Le.min,maxYear:Le.max,showSelectorArrow:!0,appendSelectorToBody:!1,focusInputOnDateSelect:!0,moveFocusByArrowKeys:!0,dateRangeDatesDelimiter:" - ",inputFieldValidation:!0,showMonthNumber:!0,todayTxt:"",showFooterToday:!1,calendarAnimation:{in:Te.None,out:Te.None},viewChangeAnimation:!0,rtl:!1,stylesData:{selector:"",styles:""},divHostElement:{enabled:!1,placeholder:""},ariaLabelPrevMonth:"Previous Month",ariaLabelNextMonth:"Next Month"}}getDefaultConfig(){return this.defaultConfig}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),$=(function(t){return t[t.Open=1]="Open",t[t.CloseByDateSel=2]="CloseByDateSel",t[t.CloseByCalBtn=3]="CloseByCalBtn",t[t.CloseByOutClick=4]="CloseByOutClick",t[t.CloseByEsc=5]="CloseByEsc",t})($||{}),Nn={provide:qi,useExisting:ti(()=>Ht),multi:!0},Ln={provide:Zi,useExisting:ti(()=>Ht),multi:!0},Ht=(()=>{class t{constructor(e,i,r,o,n,s,l){this.localeService=e,this.utilService=i,this.vcRef=r,this.renderer=o,this.cdr=n,this.elem=s,this.config=l,this.defaultMonth={defMonth:w,overrideSelection:!1},this.dateChanged=new O,this.inputFieldChanged=new O,this.calendarViewChanged=new O,this.calendarToggle=new O,this.rangeDateSelection=new O,this.viewActivated=new O,this.cRef=null,this.hostText=w,this.preventClose=!1,this.disabled=!1,this.selectedValue=null,this.onChangeCb=()=>{},this.onTouchedCb=()=>{},this.onClickWrapper=c=>this.onClick(c),this.onAnimateWrapper=c=>this.animationEnd(c),this.opts=this.config.getDefaultConfig(),this.parseOptions(this.opts)}onKeyUp(e){let i=this.utilService.getKeyCodeFromEvent(e);if(!this.ignoreKeyPress(i))if(i===b.esc)this.closeSelector($.CloseByEsc);else{let{dateRange:r,dateFormat:o,monthLabels:n,dateRangeDatesDelimiter:s}=this.opts,l=this.getHostValue(),c=null,d=!1,u=null;if(r){u={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};let g=this.utilService.isDateValidDateRange(l,this.opts,u),{begin:_,end:v}=g;d=this.utilService.isInitializedDate(_)&&this.utilService.isInitializedDate(v),d&&(c=this.utilService.getDateModel(null,g,o,n,s))}else{u={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};let g=this.utilService.isDateValid(l,this.opts,u);d=this.utilService.isInitializedDate(g),d&&(c=this.utilService.getDateModel(g,null,o,n,s))}this.onChangeCb(c),this.emitInputFieldChanged(l,d)}}onBlur(){let{inputFieldValidation:e,dateRange:i,dateFormat:r,monthLabels:o,dateRangeDatesDelimiter:n,closeSelectorOnDateSelect:s}=this.opts;if(e){let l=this.getHostValue(),c=!1,d=null;if(i){d={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};let u=this.utilService.isDateValidDateRange(l,this.opts,d),{begin:g,end:_}=u;if(c=this.utilService.isInitializedDate(g)&&this.utilService.isInitializedDate(_),c&&this.hostText!==l){let v=this.utilService.getDateModel(null,u,r,o,n);this.emitDateChanged(v),this.updateModel(v),s&&this.closeSelector($.CloseByDateSel)}}else{d={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};let u=this.utilService.isDateValid(l,this.opts,d);if(c=this.utilService.isInitializedDate(u),c&&this.hostText!==l){let g=this.utilService.getDateModel(u,null,r,o,n);this.emitDateChanged(g),this.updateModel(g),s&&this.closeSelector($.CloseByDateSel)}}!c&&this.hostText!==l&&(l===w?this.clearDate():this.onChangeCb(null)),this.hostText=l}this.onTouchedCb()}onClick(e){this.opts.closeSelectorOnDocumentClick&&!this.preventClose&&e.target&&this.cRef&&this.elem.nativeElement!==e.target&&!this.cRef.location.nativeElement.contains(e.target)&&!this.disabled&&this.closeSelector($.CloseByOutClick)}ngOnChanges(e){if(e.hasOwnProperty(An)&&this.setLocaleOptions(),e.hasOwnProperty(Or)){let i=e[Or].currentValue;typeof i===Sn?i.overrideSelection||(i.overrideSelection=!1):i={defMonth:i,overrideSelection:!1},this.defaultMonth=i}e.hasOwnProperty(kr)&&this.parseOptions(e[kr].currentValue),this.cRef&&this.cRef.instance.refreshComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue())}ngOnDestroy(){this.closeCalendar()}setLocaleOptions(){let e=this.localeService.getLocaleOptions(this.locale);Object.keys(e).forEach(i=>{this.opts[i]=e[i]})}parseOptions(e){e&&Object.keys(e).forEach(s=>{this.opts[s]=e[s]});let{minYear:i,maxYear:r,openSelectorTopOfInput:o,inline:n}=this.opts;i<Le.min&&(this.opts.minYear=Le.min),r>Le.max&&(this.opts.maxYear=Le.max),(o||n)&&(this.opts.showSelectorArrow=!1),n&&this.openCalendar()}writeValue(e){if(this.disabled)return;let i=null,{dateFormat:r,monthLabels:o,dateRangeDatesDelimiter:n,inline:s}=this.opts;if(!e)this.setHostValue(w),this.emitInputFieldChanged(w,!1),this.cRef&&this.cRef.instance.resetDateValue();else if(!e.isRange&&e.singleDate){let{date:l,jsDate:c}=e.singleDate;l||(l=this.utilService.jsDateToMyDate(c));let d=this.utilService.formatDate(l,r,o);i={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};let u=this.utilService.isInitializedDate(this.utilService.isDateValid(d,this.opts,i));u&&(this.setHostValue(d),this.emitInputFieldChanged(d,u),this.setSelectedValue(this.utilService.getDateModel(l,null,r,o,n)),this.cRef&&this.cRef.instance.refreshComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue()))}else if(e.isRange&&e.dateRange){let{beginDate:l,beginJsDate:c,endDate:d,endJsDate:u}=e.dateRange;(!l||!d)&&(l=this.utilService.jsDateToMyDate(c),d=this.utilService.jsDateToMyDate(u));let g=this.utilService.formatDate(l,r,o)+n+this.utilService.formatDate(d,r,o);i={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};let{begin:_,end:v}=this.utilService.isDateValidDateRange(g,this.opts,i),C=this.utilService.isInitializedDate(_)&&this.utilService.isInitializedDate(v);if(C){this.setHostValue(g),this.emitInputFieldChanged(g,C);let x={begin:l,end:d};this.setSelectedValue(this.utilService.getDateModel(null,x,r,o,n)),this.cRef&&this.cRef.instance.refreshComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue())}}}registerOnChange(e){this.onChangeCb=e}registerOnTouched(e){this.onTouchedCb=e}setDisabledState(e){this.disabled=e,this.renderer.setProperty(this.elem.nativeElement,wn,e),e&&this.closeCalendar()}validate(e){let i=this.getHostValue();if(i===null||i===w)return null;let r=null;if(this.opts.dateRange){r={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};let{begin:o,end:n}=this.utilService.isDateValidDateRange(i,this.opts,r);if(!this.utilService.isInitializedDate(o)||!this.utilService.isInitializedDate(n))return{invalidDateFormat:!0}}else{r={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};let o=this.utilService.isDateValid(i,this.opts,r);if(!this.utilService.isInitializedDate(o))return{invalidDateFormat:!0}}return null}openCalendar(){this.disabled||(this.preventClose=!0,this.cdr.detectChanges(),this.cRef===null&&(this.cRef=this.vcRef.createComponent(Rn),this.appendSelector(this.cRef.location.nativeElement),this.cRef.instance.initializeComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue(),this.getSelectorPosition(this.elem.nativeElement),(e,i)=>{this.focusToInput(),this.emitDateChanged(e),this.emitInputFieldChanged(this.utilService.getFormattedDate(e),!0),this.updateModel(e),i&&this.closeSelector($.CloseByDateSel)},e=>{this.emitCalendarChanged(e)},e=>{this.emitRangeDateSelection(e)},e=>{this.emitViewActivated(e)},()=>{this.closeSelector($.CloseByEsc)}),this.emitCalendarToggle($.Open),this.opts.inline||document.addEventListener(vi,this.onClickWrapper)),setTimeout(()=>{this.preventClose=!1},On))}closeCalendar(){this.closeSelector($.CloseByCalBtn)}toggleCalendar(){if(this.disabled)return;let e=this.cRef===null;return e?this.openCalendar():this.closeSelector($.CloseByCalBtn),e}clearDate(){if(this.disabled)return;let{inline:e}=this.opts;this.setHostValue(w),this.emitDateChanged({isRange:this.opts.dateRange,singleDate:{date:this.utilService.resetDate(),jsDate:null,formatted:w,epoc:0},dateRange:{beginDate:this.utilService.resetDate(),beginJsDate:null,beginEpoc:0,endDate:this.utilService.resetDate(),endJsDate:null,endEpoc:0,formatted:w}}),this.onChangeCb(null),this.onTouchedCb(),this.cRef&&this.cRef.instance.clearDate(),e||this.closeSelector($.CloseByCalBtn)}isDateValid(){let e=this.getHostValue();if(e===null||e===w)return!1;let i=null;if(this.opts.dateRange){i={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};let{begin:r,end:o}=this.utilService.isDateValidDateRange(e,this.opts,i);if(this.utilService.isInitializedDate(r)&&this.utilService.isInitializedDate(o))return this.emitInputFieldChanged(e,!0),!0}else{i={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};let r=this.utilService.isDateValid(e,this.opts,i);if(this.utilService.isInitializedDate(r))return this.emitInputFieldChanged(e,!0),!0}return this.emitInputFieldChanged(e,!1),!1}headerAction(e){this.cRef&&this.cRef.instance.headerAction(e)}setHostValue(e){let{divHostElement:i}=this.opts;this.hostText=e;let r=i.enabled?Pr:xn;e=r===Pr&&e===w?i.placeholder:e,this.renderer.setProperty(this.elem.nativeElement,r,e)}ignoreKeyPress(e){return e===b.leftArrow||e===b.rightArrow||e===b.upArrow||e===b.downArrow||e===b.tab||e===b.shift}animationEnd(e){this.cRef&&(this.cRef.instance.selectorEl.nativeElement.removeEventListener(zr,this.onAnimateWrapper),this.removeComponent(),this.emitCalendarToggle(e))}closeSelector(e){let{inline:i,calendarAnimation:r}=this.opts;if(this.cRef&&!i){if(r.out!==Te.None){let{instance:o}=this.cRef;o.selectorEl.nativeElement.addEventListener(zr,this.onAnimateWrapper.bind(this,e)),o.setCalendarAnimation(r,!1),setTimeout(this.onAnimateWrapper.bind(this,e),_n)}else this.removeComponent(),this.emitCalendarToggle(e);document.removeEventListener(vi,this.onClickWrapper)}}removeComponent(){this.vcRef!==null&&(this.vcRef.remove(this.vcRef.indexOf(this.cRef.hostView)),this.cRef=null)}updateModel(e){this.setHostValue(this.utilService.getFormattedDate(e)),this.onChangeCb(e),this.onTouchedCb()}getHostValue(){let{value:e,innerHTML:i}=this.elem.nativeElement;return this.opts.divHostElement.enabled?i:e}focusToInput(){let{focusInputOnDateSelect:e,divHostElement:i}=this.opts;e&&!i.enabled&&setTimeout(()=>{this.elem.nativeElement.focus()})}emitDateChanged(e){this.dateChanged.emit(e),this.setSelectedValue(e)}setSelectedValue(e){let{isRange:i,dateRange:r,singleDate:o}=e;this.selectedValue=i?r:o}emitInputFieldChanged(e,i){this.inputFieldChanged.emit({value:e,dateFormat:this.opts.dateFormat,valid:i})}emitCalendarChanged(e){this.calendarViewChanged.emit(e)}emitRangeDateSelection(e){this.rangeDateSelection.emit(e)}emitViewActivated(e){this.viewActivated.emit(e)}emitCalendarToggle(e){this.calendarToggle.emit(e)}appendSelector(e){this.opts.appendSelectorToBody&&document.querySelector(Cn).appendChild(e)}getSelectorPosition(e){let i=0,r=0,{appendSelectorToBody:o,openSelectorTopOfInput:n,selectorHeight:s,selectorWidth:l,showSelectorArrow:c,alignSelectorRight:d}=this.opts;if(o){let u=document.body.getBoundingClientRect(),g=e.getBoundingClientRect();i=g.top-u.top,r=g.left-u.left}return n?i=i-this.getSelectorDimension(s)-2:i=i+e.offsetHeight+(c?12:2),d&&(r=r+e.offsetWidth-this.getSelectorDimension(l)),{top:i+yi,left:r+yi}}getSelectorDimension(e){return Number(e.replace(yi,w))}static{this.\u0275fac=function(i){return new(i||t)(D(Kr),D(J),D(Ni),D(ii),D(Ee),D(He),D(Qr))}}static{this.\u0275dir=nt({type:t,selectors:[["","angular-mydatepicker",""]],hostBindings:function(i,r){i&1&&k("keyup",function(n){return r.onKeyUp(n)})("blur",function(){return r.onBlur()})},inputs:{options:"options",locale:"locale",defaultMonth:"defaultMonth"},outputs:{dateChanged:"dateChanged",inputFieldChanged:"inputFieldChanged",calendarViewChanged:"calendarViewChanged",calendarToggle:"calendarToggle",rangeDateSelection:"rangeDateSelection",viewActivated:"viewActivated"},exportAs:["angular-mydatepicker"],standalone:!1,features:[Ie([J,Kr,Qr,Nn,Ln]),Q]})}}return t})(),eo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=ee({imports:[be,Xi]})}}return t})();function xi(t,a){return Fe(t,a?.in).getDate()}function Ke(t,a){return+Fe(t)>+Fe(a)}function G(t){return+Fe(t)>Date.now()}function Ai(t,a,e){return oe(t,-a,e)}function Qe(t,a,e){return ae(t,-a,e)}function Si(t,a,e){return Z(t,-a,e)}function Hn(t,a){t&1&&(p(0,"ion-label"),M(1),N(2,"translate"),f()),t&2&&(m(),Y(" ",z(2,1,"EDGE.HISTORY.DAY")," "))}function jn(t,a){t&1&&(p(0,"ion-label"),M(1),N(2,"translate"),f()),t&2&&(m(),Y(" ",z(2,1,"EDGE.HISTORY.WEEK")," "))}function Wn(t,a){t&1&&(p(0,"ion-label"),M(1),N(2,"translate"),f()),t&2&&(m(),Y(" ",z(2,1,"EDGE.HISTORY.MONTH")," "))}function zn(t,a){t&1&&(p(0,"ion-label"),M(1),N(2,"translate"),f()),t&2&&(m(),Y(" ",z(2,1,"EDGE.HISTORY.YEAR")," "))}function Jn(t,a){t&1&&(p(0,"ion-label"),M(1),N(2,"translate"),f()),t&2&&(m(),Y(" ",z(2,1,"EDGE.HISTORY.TOTAL")," "))}function Gn(t,a){if(t&1){let e=B();p(0,"ion-item",4),k("click",function(){let r=A(e).$implicit,o=y();return S(o.setPeriod(r))}),P(1,Hn,3,3,"ion-label")(2,jn,3,3,"ion-label")(3,Wn,3,3,"ion-label")(4,zn,3,3,"ion-label")(5,Jn,3,3,"ion-label"),f()}if(t&2){let e,i=a.$implicit,r=y();je("active",r.service.periodString===i),m(),I((e=i)===r.DefaultTypes.PeriodString.DAY?1:e===r.DefaultTypes.PeriodString.WEEK?2:e===r.DefaultTypes.PeriodString.MONTH?3:e===r.DefaultTypes.PeriodString.YEAR?4:e===r.DefaultTypes.PeriodString.TOTAL?5:-1)}}function Un(t,a){if(t&1){let e=B();p(0,"input",5),k("dateChanged",function(r){A(e);let o=y();return S(o.onDateChanged(r.dateRange))}),f()}if(t&2){let e=y();T("locale",e.locale)("options",e.myDpOptions)}}var to=(()=>{class t{constructor(e,i,r,o){this.service=e,this.popoverCtrl=i,this.translate=r,this.cdr=o,this.edge=null,this.historyPeriods=[],this.locale=Et.DEFAULT.key,this.showCustomDate=!1,this.periods=[],this.TOMORROW=L(new Date,1),this.myDpOptions={stylesData:{selector:"dp1",styles:`
            .myDpSelector{
                background-color: var(--ion-color-background);
                color: var(--color);
                background: var(--ion-color-background);
                width: inherit !important;
            }
            .dp1 {
                overflow-x: hidden;
            }
            .dp1 .myDpIconLeftArrow, 
            .dp1 .myDpIconRightArrow,
            .dp1 .myDpHeaderBtn {
                color: var(--ion-color-primary);
            }
            .dp1 .myDpHeaderBtn:focus,
            .dp1 .myDpMonthLabel:focus,
            .dp1 .myDpYearLabel:focus {
                color: var(--ion-color-primary);
             }
            .dp1 .myDpDaycell:focus,
            .dp1 .myDpMonthcell:focus,
            .dp1 .myDpYearcell:focus {
                box-shadow: inset 0 0 0 0.063em var(--ion-color-primary-contrast);
            }
            .dp1 .myDpSelectedDay,
            .dp1 .myDpSelectedMonth,
            .dp1 .myDpSelectedYear {
                background-color: var(--ion-color-secondary-shade);
                color: var(--ion-color-primary-contrast);
                }
            .dp1 .myDpTableSingleDay:hover, 
            .dp1 .myDpTableSingleMonth:hover, 
            .dp1 .myDpTableSingleYear:hover {
                background-color: var(--ion-color-secondary-shade);
                color: white !important;
                }
            .dp1 .myDpMarkCurrDay,
            .dp1 .myDpMarkCurrMonth,
            .dp1 .myDpMarkCurrYear {
                color: var(--ion-color-text-percentage-bar) !important;
                border-bottom: 0.125em solid var(--ion-color-text-percentage-bar) !important;
                }
            .dp1 .myDpRangeColor {
                background-color: var(--ion-color-primary);
                }
            .ng-mydp * {
                background-color: var(--ion-color-background);
                color: var(--color);
                border: 0;
            }
            .myDpDisabled {
               color: var(--ion-color-secondary-tint);
               background: repeating-linear-gradient(-45deg, rgba(88, 87, 87, 0.45) 0.438em, rgba(192, 192, 192, 0.3) 0.5em, transparent 0.438em, transparent 0.875em ) !important;
            }
             `},calendarAnimation:{in:Te.FlipDiagonal,out:Te.ScaleCenter},dateFormat:"dd.mm.yyyy",dateRange:!0,disableSince:this.toIMyDate(this.TOMORROW),disableUntil:{day:1,month:1,year:2013},inline:!0,selectorHeight:"14.063em",selectorWidth:"15.688em",showWeekNumbers:!0},this.DefaultTypes=h,this.TODAY=new Date}onDateChanged(e){this.service.historyPeriod.next(new h.HistoryPeriod(e.beginJsDate,e.endJsDate)),this.service.periodString=h.PeriodString.CUSTOM,this.popoverCtrl.dismiss()}ngOnInit(){this.locale=(Et.getByKey(localStorage.LANGUAGE)??Et.DEFAULT).key,this.myDpOptions.disableUntil={day:ui.subtractSafely(xi(this.edge?.firstSetupProtocol),1)??1,month:ui.addSafely(ci(this.edge?.firstSetupProtocol),1)??1,year:this.edge?.firstSetupProtocol?.getFullYear()??2013},this.periods=yr.getAllowedHistoryPeriods(this.edge,this.historyPeriods).filter(e=>e!==h.PeriodString.CUSTOM)}setPeriod(e){switch(e){case h.PeriodString.DAY:{this.setDateRange(new h.HistoryPeriod(this.TODAY,this.TODAY)),this.service.periodString=e,this.popoverCtrl.dismiss();break}case h.PeriodString.WEEK:{this.setDateRange(new h.HistoryPeriod(Ot(this.TODAY,{weekStartsOn:1}),me(this.TODAY,{weekStartsOn:1}))),this.service.periodString=e,this.popoverCtrl.dismiss();break}case h.PeriodString.MONTH:{this.setDateRange(new h.HistoryPeriod(Pt(this.TODAY),he(this.TODAY))),this.service.periodString=e,this.popoverCtrl.dismiss();break}case h.PeriodString.YEAR:{this.setDateRange(new h.HistoryPeriod(It(this.TODAY),X(this.TODAY))),this.service.periodString=e,this.popoverCtrl.dismiss();break}case h.PeriodString.TOTAL:{this.setDateRange(new h.HistoryPeriod(this.edge?.firstSetupProtocol,X(this.TODAY))),this.service.periodString=e,this.popoverCtrl.dismiss();break}default:break}}toIMyDate(e){return{year:hr(e),month:ci(e)+1,day:xi(e)}}static{this.\u0275fac=function(i){return new(i||t)(D(Se),D(xe),D(Ae),D(Ee))}}static{this.\u0275cmp=F({type:t,selectors:[["pickdatepopover"]],inputs:{setDateRange:"setDateRange",edge:"edge",historyPeriods:"historyPeriods"},standalone:!1,decls:8,vars:6,consts:[["lines","none","inset","false"],["mode","md","lines","none","button","",1,"ion-text-center",3,"active"],["mode","md","lines","none","button","","testId","popover-button",1,"ion-text-center",3,"click"],["type","hidden","angular-mydatepicker","","name","mydate",3,"locale","options"],["mode","md","lines","none","button","",1,"ion-text-center",3,"click"],["type","hidden","angular-mydatepicker","","name","mydate",3,"dateChanged","locale","options"]],template:function(i,r){i&1&&(p(0,"ion-list",0),ie(1,Gn,6,3,"ion-item",1,Li),p(3,"ion-item",2),k("click",function(){return r.showCustomDate=!r.showCustomDate,r.setPeriod(r.DefaultTypes.PeriodString.CUSTOM)}),p(4,"ion-label"),M(5),N(6,"translate"),f()()(),P(7,Un,1,2,"input",3)),i&2&&(m(),re(r.periods),m(2),je("active",r.service.periodString===r.DefaultTypes.PeriodString.CUSTOM),m(2),Y(" ",z(6,4,"EDGE.HISTORY.OTHER_PERIOD")," "),m(2),I(r.showCustomDate?7:-1))},dependencies:[we,Ce,_t,Ht,Je],styles:["[_nghost-%COMP%]{--width: fit-content !important}"]})}}return t})();function Kn(t,a){if(t&1){let e=B();p(0,"ion-button",6),k("click",function(r){A(e);let o=y();return S(o.presentPopover(r))}),M(1),f()}if(t&2){let e=y();m(),Y(" ",e.service.historyPeriod.value.getText(e.translate,e.service)," ")}}var io=(()=>{class t{constructor(e,i,r){this.service=e,this.translate=i,this.popoverCtrl=r,this.historyPeriods=[],this.disableArrow=null,this.isAllowedToSeeDay=!0,this.isForwardArrowAllowed=!1,this.isBackArrowAllowed=!0,this.changePeriodTimeout=null,this.edge=null}static isNextPeriodAllowed(e){switch(e.periodString){case h.PeriodString.DAY:return Ke(new Date,Re(L(e.historyPeriod.value.to,1)));case h.PeriodString.WEEK:return Ke(new Date,Re(Ot(ae(e.historyPeriod.value.to,1),{weekStartsOn:1})));case h.PeriodString.MONTH:return Ke(new Date,Pt(oe(e.historyPeriod.value.to,1)));case h.PeriodString.YEAR:return Ke(new Date,It(Z(e.historyPeriod.value.to,1)));case h.PeriodString.TOTAL:return!1;case h.PeriodString.CUSTOM:{let i=di(e.historyPeriod.value.to,e.historyPeriod.value.from);return Ke(Re(new Date),L(e.historyPeriod.value.to,i))}}}static isPreviousPeriodAllowed(e,i){if(!i)return!0;switch(e.periodString){case h.PeriodString.DAY:return Ue(Re(i),Ge(Ne(e.historyPeriod.value.from,1)));case h.PeriodString.WEEK:return Ue(i,me(Qe(e.historyPeriod.value.from,1)));case h.PeriodString.MONTH:return Ue(i,he(Qe(e.historyPeriod.value.from,1)));case h.PeriodString.YEAR:return Ue(i,X(Qe(e.historyPeriod.value.from,1)));case h.PeriodString.TOTAL:return!1;case h.PeriodString.CUSTOM:{let r=di(e.historyPeriod.value.to,e.historyPeriod.value.from);return Ue(Re(i),Re(Ne(e.historyPeriod.value.from,r)))}}}ngOnInit(){this.checkArrowAutomaticForwarding(),this.service.getCurrentEdge().then(e=>{this.edge=e,this.isBackArrowAllowed=t.isPreviousPeriodAllowed(this.service,this.edge?.firstSetupProtocol),this.isForwardArrowAllowed=t.isNextPeriodAllowed(this.service)})}ngOnDestroy(){this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout)}checkArrowAutomaticForwarding(){switch(this.isBackArrowAllowed=t.isPreviousPeriodAllowed(this.service,this.edge?.firstSetupProtocol),this.isForwardArrowAllowed=t.isNextPeriodAllowed(this.service),this.service.periodString){case h.PeriodString.DAY:{G(L(this.service.historyPeriod.value.from,1))?(this.forwardToNextDayWhenReached(),this.disableArrow=!0):(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.disableArrow=!1);break}case h.PeriodString.WEEK:{G(ae(this.service.historyPeriod.value.from,1))?(this.forwardToNextWeekWhenReached(),this.disableArrow=!0):(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.disableArrow=!1);break}case h.PeriodString.MONTH:{G(oe(this.service.historyPeriod.value.from,1))?(this.forwardToNextMonthWhenReached(),this.disableArrow=!0):(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.disableArrow=!1);break}case h.PeriodString.YEAR:{G(Z(this.service.historyPeriod.value.from,1))?this.disableArrow=!0:(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.disableArrow=!1);break}case h.PeriodString.TOTAL:{this.disableArrow=!0;break}case h.PeriodString.CUSTOM:{let e=Math.floor(Math.abs(this.service.historyPeriod.value.from.getTime()-this.service.historyPeriod.value.to.getTime())/864e5);e==0&&(e=1),G(L(this.service.historyPeriod.value.from,e*2))?this.disableArrow=!0:this.disableArrow=!1;break}}}setDateRange(e){this.service.historyPeriod.next(e),this.isBackArrowAllowed=t.isPreviousPeriodAllowed(this.service,this.edge?.firstSetupProtocol),this.isForwardArrowAllowed=t.isNextPeriodAllowed(this.service)}goForward(){switch(this.service.periodString){case h.PeriodString.DAY:{G(L(this.service.historyPeriod.value.from,2))?(this.forwardToNextDayWhenReached(),this.setDateRange(new h.HistoryPeriod(L(this.service.historyPeriod.value.from,1),L(Ge(this.service.historyPeriod.value.to),1))),this.disableArrow=!0):(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(L(this.service.historyPeriod.value.from,1),L(Ge(this.service.historyPeriod.value.to),1))));break}case h.PeriodString.WEEK:{G(ae(this.service.historyPeriod.value.from,2))?(this.forwardToNextWeekWhenReached(),this.setDateRange(new h.HistoryPeriod(ae(this.service.historyPeriod.value.from,1),ae(me(this.service.historyPeriod.value.to,{weekStartsOn:1}),1))),this.disableArrow=!0):(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(ae(this.service.historyPeriod.value.from,1),ae(me(this.service.historyPeriod.value.to,{weekStartsOn:1}),1))));break}case h.PeriodString.MONTH:{G(oe(this.service.historyPeriod.value.from,2))?(this.forwardToNextMonthWhenReached(),this.setDateRange(new h.HistoryPeriod(oe(this.service.historyPeriod.value.from,1),he(oe(this.service.historyPeriod.value.to,1)))),this.disableArrow=!0):(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(oe(this.service.historyPeriod.value.from,1),he(oe(this.service.historyPeriod.value.to,1)))));break}case h.PeriodString.YEAR:{G(Z(this.service.historyPeriod.value.from,2))?(this.forwardToNextYearWhenReached(),this.setDateRange(new h.HistoryPeriod(Z(this.service.historyPeriod.value.from,1),X(Z(this.service.historyPeriod.value.to,1)))),this.disableArrow=!0):(this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(Z(this.service.historyPeriod.value.from,1),X(Z(this.service.historyPeriod.value.to,1)))));break}case h.PeriodString.TOTAL:{this.setDateRange(new h.HistoryPeriod(this.edge?.firstSetupProtocol??mr.stringToDate("03.11.2022 16:04:37"),X(Z(this.service.historyPeriod.value.to,1)))),this.disableArrow=!0;break}case h.PeriodString.CUSTOM:{let e=Math.floor(Math.abs(this.service.historyPeriod.value.from.getTime()-this.service.historyPeriod.value.to.getTime())/864e5);e==0&&(e=1),G(L(this.service.historyPeriod.value.to,e*2))&&(this.disableArrow=!0),G(L(this.service.historyPeriod.value.to,e))||this.setDateRange(new h.HistoryPeriod(L(this.service.historyPeriod.value.from,e),L(this.service.historyPeriod.value.to,e)));break}}}goBackward(){switch(this.service.periodString){case h.PeriodString.DAY:{this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(Ne(this.service.historyPeriod.value.from,1),Ne(Ge(this.service.historyPeriod.value.to),1)));break}case h.PeriodString.WEEK:{this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(Qe(this.service.historyPeriod.value.from,1),Qe(me(this.service.historyPeriod.value.to,{weekStartsOn:1}),1)));break}case h.PeriodString.MONTH:{this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(Ai(this.service.historyPeriod.value.from,1),he(Ai(this.service.historyPeriod.value.to,1))));break}case h.PeriodString.YEAR:{this.changePeriodTimeout!=null&&clearTimeout(this.changePeriodTimeout),this.setDateRange(new h.HistoryPeriod(Si(this.service.historyPeriod.value.from,1),X(Si(this.service.historyPeriod.value.to,1))));break}case h.PeriodString.CUSTOM:{let e=Math.floor(Math.abs(this.service.historyPeriod.value.from.getTime()-this.service.historyPeriod.value.to.getTime())/864e5);e==0&&(e=1),this.setDateRange(new h.HistoryPeriod(Ne(this.service.historyPeriod.value.from,e),Ne(this.service.historyPeriod.value.to,e)));break}default:break}}presentPopover(e){return wt(this,null,function*(){let i=yield this.popoverCtrl.create({component:to,event:e,translucent:!1,cssClass:"pickdate-popover",componentProps:{setDateRange:this.setDateRange,edge:this.edge,historyPeriods:this.historyPeriods}});yield i.present(),i.onDidDismiss().then(()=>{this.checkArrowAutomaticForwarding()})})}forwardToNextDayWhenReached(){this.changePeriodTimeout=setTimeout(()=>{this.setDateRange(new h.HistoryPeriod(new Date,new Date)),this.service.historyPeriod.value?.getText(this.translate,this.service)},this.millisecondsUntilnextPeriod())}forwardToNextWeekWhenReached(){this.changePeriodTimeout=setTimeout(()=>{this.setDateRange(new h.HistoryPeriod(new Date,me(new Date,{weekStartsOn:1}))),this.service.historyPeriod.value?.getText(this.translate,this.service)},this.millisecondsUntilnextPeriod())}forwardToNextMonthWhenReached(){this.millisecondsUntilnextPeriod()<2147483647&&(this.changePeriodTimeout=setTimeout(()=>{this.setDateRange(new h.HistoryPeriod(new Date,he(new Date))),this.service.historyPeriod.value?.getText(this.translate,this.service)},this.millisecondsUntilnextPeriod()))}forwardToNextYearWhenReached(){this.millisecondsUntilnextPeriod()<2147483647&&(this.changePeriodTimeout=setTimeout(()=>{this.setDateRange(new h.HistoryPeriod(new Date,X(new Date))),this.service.historyPeriod.value?.getText(this.translate,this.service)},this.millisecondsUntilnextPeriod()))}millisecondsUntilnextPeriod(){switch(this.service.periodString){case h.PeriodString.DAY:{let e=new Date,i=Ge(e);return ct(i,e)+1e3}case h.PeriodString.WEEK:{let e=new Date,i=me(e,{weekStartsOn:1});return ct(i,e)+1e3}case h.PeriodString.MONTH:{let e=new Date,i=he(e);return ct(i,e)+1e3}case h.PeriodString.YEAR:{let e=new Date,i=X(e);return ct(i,e)+1e3}default:return null}}static{this.\u0275fac=function(i){return new(i||t)(D(Se),D(Ae),D(xe))}}static{this.\u0275cmp=F({type:t,selectors:[["pickdate"]],inputs:{historyPeriods:"historyPeriods"},standalone:!1,decls:10,vars:3,consts:[[1,"ion-no-padding-top","ion-no-padding-bottom"],[1,"ion-justify-content-center","ion-align-items-center"],[1,"pickdate-styles","ion-no-padding",2,"min-width","fit-content !important",3,"click","disabled"],["name","arrow-back-outline"],[1,"pickdate-styles"],["name","arrow-forward-outline"],[1,"pickdate-styles",3,"click"]],template:function(i,r){i&1&&(p(0,"ion-grid",0)(1,"ion-row",1)(2,"ion-col")(3,"ion-button",2),k("click",function(){return r.goBackward()}),R(4,"ion-icon",3),f()(),p(5,"ion-col"),P(6,Kn,2,1,"ion-button",4),f(),p(7,"ion-col")(8,"ion-button",2),k("click",function(){return r.goForward()}),R(9,"ion-icon",5),f()()()()),i&2&&(m(3),T("disabled",!r.isBackArrowAllowed),m(3),I(r.translate?6:-1),m(2),T("disabled",!r.isForwardArrowAllowed))},dependencies:[Tt,ir,or,ve,Mt],styles:["ion-button.pickdate-styles[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important;white-space:nowrap}ion-button.pickdate-styles[_ngcontent-%COMP%]::part(native){background:var(--ion-color-toolbar-primary);color:var(--ion-menu-color);box-shadow:0 .3em .3em var(--ion-color-primary-rgba);display:flex;align-items:center;justify-content:center;width:100%;height:100%;text-transform:uppercase;border-radius:.5em}ion-button.pickdate-styles[_ngcontent-%COMP%]:hover::part(native){transition:background-color .1s ease-in-out;box-shadow:none}ion-button.pickdate-styles[_ngcontent-%COMP%]   :is(active[_ngcontent-%COMP%]::part(native)){transform:scale(.98);box-shadow:inset 0 .125em .25em #0006;opacity:.8}"]})}}return t})();var jt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=ee({imports:[be,Ve,Be,eo,$i]})}}return t})(),_i=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=ee({imports:[St,Ve,Be,jt,jt]})}}return t})();var qn=typeof global=="object"&&global&&global.Object===Object&&global,Wt=qn;var Zn=typeof self=="object"&&self&&self.Object===Object&&self,Xn=Wt||Zn||Function("return this")(),U=Xn;var $n=U.Symbol,qe=$n;var ro=Object.prototype,es=ro.hasOwnProperty,ts=ro.toString,ft=qe?qe.toStringTag:void 0;function is(t){var a=es.call(t,ft),e=t[ft];try{t[ft]=void 0;var i=!0}catch{}var r=ts.call(t);return i&&(a?t[ft]=e:delete t[ft]),r}var oo=is;var rs=Object.prototype,os=rs.toString;function as(t){return os.call(t)}var ao=as;var ns="[object Null]",ss="[object Undefined]",no=qe?qe.toStringTag:void 0;function ls(t){return t==null?t===void 0?ss:ns:no&&no in Object(t)?oo(t):ao(t)}var _e=ls;function ds(t){return t!=null&&typeof t=="object"}var ce=ds;var cs=Array.isArray,yt=cs;function us(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}var H=us;function hs(t){return t}var zt=hs;var ms="[object AsyncFunction]",ps="[object Function]",fs="[object GeneratorFunction]",ys="[object Proxy]";function gs(t){if(!H(t))return!1;var a=_e(t);return a==ps||a==fs||a==ms||a==ys}var Ze=gs;var Ds=U["__core-js_shared__"],Jt=Ds;var so=(function(){var t=/[^.]+$/.exec(Jt&&Jt.keys&&Jt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function bs(t){return!!so&&so in t}var lo=bs;var vs=Function.prototype,ws=vs.toString;function Cs(t){if(t!=null){try{return ws.call(t)}catch{}try{return t+""}catch{}}return""}var co=Cs;var xs=/[\\^$.*+?()[\]{}|]/g,As=/^\[object .+?Constructor\]$/,Ss=Function.prototype,Ts=Object.prototype,_s=Ss.toString,Ms=Ts.hasOwnProperty,ks=RegExp("^"+_s.call(Ms).replace(xs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Os(t){if(!H(t)||lo(t))return!1;var a=Ze(t)?ks:As;return a.test(co(t))}var uo=Os;function Ps(t,a){return t?.[a]}var ho=Ps;function Is(t,a){var e=ho(t,a);return uo(e)?e:void 0}var Xe=Is;var mo=Object.create,Es=(function(){function t(){}return function(a){if(!H(a))return{};if(mo)return mo(a);t.prototype=a;var e=new t;return t.prototype=void 0,e}})(),po=Es;function Vs(t,a,e){switch(e.length){case 0:return t.call(a);case 1:return t.call(a,e[0]);case 2:return t.call(a,e[0],e[1]);case 3:return t.call(a,e[0],e[1],e[2])}return t.apply(a,e)}var fo=Vs;function Bs(t,a){var e=-1,i=t.length;for(a||(a=Array(i));++e<i;)a[e]=t[e];return a}var yo=Bs;var Fs=800,Rs=16,Ns=Date.now;function Ls(t){var a=0,e=0;return function(){var i=Ns(),r=Rs-(i-e);if(e=i,r>0){if(++a>=Fs)return arguments[0]}else a=0;return t.apply(void 0,arguments)}}var go=Ls;function Ys(t){return function(){return t}}var Do=Ys;var Hs=(function(){try{var t=Xe(Object,"defineProperty");return t({},"",{}),t}catch{}})(),$e=Hs;var js=$e?function(t,a){return $e(t,"toString",{configurable:!0,enumerable:!1,value:Do(a),writable:!0})}:zt,bo=js;var Ws=go(bo),vo=Ws;var zs=9007199254740991,Js=/^(?:0|[1-9]\d*)$/;function Gs(t,a){var e=typeof t;return a=a??zs,!!a&&(e=="number"||e!="symbol"&&Js.test(t))&&t>-1&&t%1==0&&t<a}var Gt=Gs;function Us(t,a,e){a=="__proto__"&&$e?$e(t,a,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[a]=e}var et=Us;function Ks(t,a){return t===a||t!==t&&a!==a}var Me=Ks;var Qs=Object.prototype,qs=Qs.hasOwnProperty;function Zs(t,a,e){var i=t[a];(!(qs.call(t,a)&&Me(i,e))||e===void 0&&!(a in t))&&et(t,a,e)}var wo=Zs;function Xs(t,a,e,i){var r=!e;e||(e={});for(var o=-1,n=a.length;++o<n;){var s=a[o],l=i?i(e[s],t[s],s,e,t):void 0;l===void 0&&(l=t[s]),r?et(e,s,l):wo(e,s,l)}return e}var Co=Xs;var xo=Math.max;function $s(t,a,e){return a=xo(a===void 0?t.length-1:a,0),function(){for(var i=arguments,r=-1,o=xo(i.length-a,0),n=Array(o);++r<o;)n[r]=i[a+r];r=-1;for(var s=Array(a+1);++r<a;)s[r]=i[r];return s[a]=e(n),fo(t,this,s)}}var Ao=$s;function el(t,a){return vo(Ao(t,a,zt),t+"")}var So=el;var tl=9007199254740991;function il(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tl}var Ut=il;function rl(t){return t!=null&&Ut(t.length)&&!Ze(t)}var tt=rl;function ol(t,a,e){if(!H(e))return!1;var i=typeof a;return(i=="number"?tt(e)&&Gt(a,e.length):i=="string"&&a in e)?Me(e[a],t):!1}var To=ol;function al(t){return So(function(a,e){var i=-1,r=e.length,o=r>1?e[r-1]:void 0,n=r>2?e[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,n&&To(e[0],e[1],n)&&(o=r<3?void 0:o,r=1),a=Object(a);++i<r;){var s=e[i];s&&t(a,s,i,o)}return a})}var _o=al;var nl=Object.prototype;function sl(t){var a=t&&t.constructor,e=typeof a=="function"&&a.prototype||nl;return t===e}var Kt=sl;function ll(t,a){for(var e=-1,i=Array(t);++e<t;)i[e]=a(e);return i}var Mo=ll;var dl="[object Arguments]";function cl(t){return ce(t)&&_e(t)==dl}var Mi=cl;var ko=Object.prototype,ul=ko.hasOwnProperty,hl=ko.propertyIsEnumerable,ml=Mi((function(){return arguments})())?Mi:function(t){return ce(t)&&ul.call(t,"callee")&&!hl.call(t,"callee")},gt=ml;function pl(){return!1}var Oo=pl;var Eo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Po=Eo&&typeof module=="object"&&module&&!module.nodeType&&module,fl=Po&&Po.exports===Eo,Io=fl?U.Buffer:void 0,yl=Io?Io.isBuffer:void 0,gl=yl||Oo,Qt=gl;var Dl="[object Arguments]",bl="[object Array]",vl="[object Boolean]",wl="[object Date]",Cl="[object Error]",xl="[object Function]",Al="[object Map]",Sl="[object Number]",Tl="[object Object]",_l="[object RegExp]",Ml="[object Set]",kl="[object String]",Ol="[object WeakMap]",Pl="[object ArrayBuffer]",Il="[object DataView]",El="[object Float32Array]",Vl="[object Float64Array]",Bl="[object Int8Array]",Fl="[object Int16Array]",Rl="[object Int32Array]",Nl="[object Uint8Array]",Ll="[object Uint8ClampedArray]",Yl="[object Uint16Array]",Hl="[object Uint32Array]",E={};E[El]=E[Vl]=E[Bl]=E[Fl]=E[Rl]=E[Nl]=E[Ll]=E[Yl]=E[Hl]=!0;E[Dl]=E[bl]=E[Pl]=E[vl]=E[Il]=E[wl]=E[Cl]=E[xl]=E[Al]=E[Sl]=E[Tl]=E[_l]=E[Ml]=E[kl]=E[Ol]=!1;function jl(t){return ce(t)&&Ut(t.length)&&!!E[_e(t)]}var Vo=jl;function Wl(t){return function(a){return t(a)}}var Bo=Wl;var Fo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dt=Fo&&typeof module=="object"&&module&&!module.nodeType&&module,zl=Dt&&Dt.exports===Fo,ki=zl&&Wt.process,Jl=(function(){try{var t=Dt&&Dt.require&&Dt.require("util").types;return t||ki&&ki.binding&&ki.binding("util")}catch{}})(),Oi=Jl;var Ro=Oi&&Oi.isTypedArray,Gl=Ro?Bo(Ro):Vo,qt=Gl;var Ul=Object.prototype,Kl=Ul.hasOwnProperty;function Ql(t,a){var e=yt(t),i=!e&&gt(t),r=!e&&!i&&Qt(t),o=!e&&!i&&!r&&qt(t),n=e||i||r||o,s=n?Mo(t.length,String):[],l=s.length;for(var c in t)(a||Kl.call(t,c))&&!(n&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Gt(c,l)))&&s.push(c);return s}var No=Ql;function ql(t,a){return function(e){return t(a(e))}}var Lo=ql;function Zl(t){var a=[];if(t!=null)for(var e in Object(t))a.push(e);return a}var Yo=Zl;var Xl=Object.prototype,$l=Xl.hasOwnProperty;function ed(t){if(!H(t))return Yo(t);var a=Kt(t),e=[];for(var i in t)i=="constructor"&&(a||!$l.call(t,i))||e.push(i);return e}var Ho=ed;function td(t){return tt(t)?No(t,!0):Ho(t)}var Zt=td;var id=Xe(Object,"create"),pe=id;function rd(){this.__data__=pe?pe(null):{},this.size=0}var jo=rd;function od(t){var a=this.has(t)&&delete this.__data__[t];return this.size-=a?1:0,a}var Wo=od;var ad="__lodash_hash_undefined__",nd=Object.prototype,sd=nd.hasOwnProperty;function ld(t){var a=this.__data__;if(pe){var e=a[t];return e===ad?void 0:e}return sd.call(a,t)?a[t]:void 0}var zo=ld;var dd=Object.prototype,cd=dd.hasOwnProperty;function ud(t){var a=this.__data__;return pe?a[t]!==void 0:cd.call(a,t)}var Jo=ud;var hd="__lodash_hash_undefined__";function md(t,a){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=pe&&a===void 0?hd:a,this}var Go=md;function it(t){var a=-1,e=t==null?0:t.length;for(this.clear();++a<e;){var i=t[a];this.set(i[0],i[1])}}it.prototype.clear=jo;it.prototype.delete=Wo;it.prototype.get=zo;it.prototype.has=Jo;it.prototype.set=Go;var Pi=it;function pd(){this.__data__=[],this.size=0}var Uo=pd;function fd(t,a){for(var e=t.length;e--;)if(Me(t[e][0],a))return e;return-1}var ke=fd;var yd=Array.prototype,gd=yd.splice;function Dd(t){var a=this.__data__,e=ke(a,t);if(e<0)return!1;var i=a.length-1;return e==i?a.pop():gd.call(a,e,1),--this.size,!0}var Ko=Dd;function bd(t){var a=this.__data__,e=ke(a,t);return e<0?void 0:a[e][1]}var Qo=bd;function vd(t){return ke(this.__data__,t)>-1}var qo=vd;function wd(t,a){var e=this.__data__,i=ke(e,t);return i<0?(++this.size,e.push([t,a])):e[i][1]=a,this}var Zo=wd;function rt(t){var a=-1,e=t==null?0:t.length;for(this.clear();++a<e;){var i=t[a];this.set(i[0],i[1])}}rt.prototype.clear=Uo;rt.prototype.delete=Ko;rt.prototype.get=Qo;rt.prototype.has=qo;rt.prototype.set=Zo;var Oe=rt;var Cd=Xe(U,"Map"),Xt=Cd;function xd(){this.size=0,this.__data__={hash:new Pi,map:new(Xt||Oe),string:new Pi}}var Xo=xd;function Ad(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}var $o=Ad;function Sd(t,a){var e=t.__data__;return $o(a)?e[typeof a=="string"?"string":"hash"]:e.map}var Pe=Sd;function Td(t){var a=Pe(this,t).delete(t);return this.size-=a?1:0,a}var ea=Td;function _d(t){return Pe(this,t).get(t)}var ta=_d;function Md(t){return Pe(this,t).has(t)}var ia=Md;function kd(t,a){var e=Pe(this,t),i=e.size;return e.set(t,a),this.size+=e.size==i?0:1,this}var ra=kd;function ot(t){var a=-1,e=t==null?0:t.length;for(this.clear();++a<e;){var i=t[a];this.set(i[0],i[1])}}ot.prototype.clear=Xo;ot.prototype.delete=ea;ot.prototype.get=ta;ot.prototype.has=ia;ot.prototype.set=ra;var oa=ot;var Od=Lo(Object.getPrototypeOf,Object),$t=Od;var Pd="[object Object]",Id=Function.prototype,Ed=Object.prototype,aa=Id.toString,Vd=Ed.hasOwnProperty,Bd=aa.call(Object);function Fd(t){if(!ce(t)||_e(t)!=Pd)return!1;var a=$t(t);if(a===null)return!0;var e=Vd.call(a,"constructor")&&a.constructor;return typeof e=="function"&&e instanceof e&&aa.call(e)==Bd}var na=Fd;function Rd(){this.__data__=new Oe,this.size=0}var sa=Rd;function Nd(t){var a=this.__data__,e=a.delete(t);return this.size=a.size,e}var la=Nd;function Ld(t){return this.__data__.get(t)}var da=Ld;function Yd(t){return this.__data__.has(t)}var ca=Yd;var Hd=200;function jd(t,a){var e=this.__data__;if(e instanceof Oe){var i=e.__data__;if(!Xt||i.length<Hd-1)return i.push([t,a]),this.size=++e.size,this;e=this.__data__=new oa(i)}return e.set(t,a),this.size=e.size,this}var ua=jd;function at(t){var a=this.__data__=new Oe(t);this.size=a.size}at.prototype.clear=sa;at.prototype.delete=la;at.prototype.get=da;at.prototype.has=ca;at.prototype.set=ua;var ha=at;var ya=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ma=ya&&typeof module=="object"&&module&&!module.nodeType&&module,Wd=ma&&ma.exports===ya,pa=Wd?U.Buffer:void 0,fa=pa?pa.allocUnsafe:void 0;function zd(t,a){if(a)return t.slice();var e=t.length,i=fa?fa(e):new t.constructor(e);return t.copy(i),i}var ga=zd;var Jd=U.Uint8Array,Ii=Jd;function Gd(t){var a=new t.constructor(t.byteLength);return new Ii(a).set(new Ii(t)),a}var Da=Gd;function Ud(t,a){var e=a?Da(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var ba=Ud;function Kd(t){return typeof t.constructor=="function"&&!Kt(t)?po($t(t)):{}}var va=Kd;function Qd(t){return function(a,e,i){for(var r=-1,o=Object(a),n=i(a),s=n.length;s--;){var l=n[t?s:++r];if(e(o[l],l,o)===!1)break}return a}}var wa=Qd;var qd=wa(),Ca=qd;function Zd(t,a,e){(e!==void 0&&!Me(t[a],e)||e===void 0&&!(a in t))&&et(t,a,e)}var bt=Zd;function Xd(t){return ce(t)&&tt(t)}var xa=Xd;function $d(t,a){if(!(a==="constructor"&&typeof t[a]=="function")&&a!="__proto__")return t[a]}var vt=$d;function ec(t){return Co(t,Zt(t))}var Aa=ec;function tc(t,a,e,i,r,o,n){var s=vt(t,e),l=vt(a,e),c=n.get(l);if(c){bt(t,e,c);return}var d=o?o(s,l,e+"",t,a,n):void 0,u=d===void 0;if(u){var g=yt(l),_=!g&&Qt(l),v=!g&&!_&&qt(l);d=l,g||_||v?yt(s)?d=s:xa(s)?d=yo(s):_?(u=!1,d=ga(l,!0)):v?(u=!1,d=ba(l,!0)):d=[]:na(l)||gt(l)?(d=s,gt(s)?d=Aa(s):(!H(s)||Ze(s))&&(d=va(l))):u=!1}u&&(n.set(l,d),r(d,l,i,o,n),n.delete(l)),bt(t,e,d)}var Sa=tc;function Ta(t,a,e,i,r){t!==a&&Ca(a,function(o,n){if(r||(r=new ha),H(o))Sa(t,a,n,e,Ta,i,r);else{var s=i?i(vt(t,n),o,n+"",t,a,r):void 0;s===void 0&&(s=o),bt(t,n,s)}},Zt)}var _a=Ta;var ic=_o(function(t,a,e){_a(t,a,e)}),ei=ic;var Ma=new Bi("Configuration for ngCharts");function ly(...t){return{registerables:[...ur,...t]}}function dy(...t){let a=ei({},...t);return{provide:Ma,useValue:a}}var rc=(()=>{class t{constructor(){this.colorschemesOptions=new Ei(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cy=(()=>{class t{constructor(e,i,r,o){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new O,this.chartHover=new O,this.subs=[],this.themeOverrides={},o?.registerables&&li.register(...o.registerables),o?.defaults&&cr.set(o.defaults),this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Vi()).subscribe(n=>this.themeChanged(n)))}ngOnChanges(e){let i=["type"],r=Object.getOwnPropertyNames(e);if(r.some(o=>i.includes(o))||r.every(o=>e[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new li(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,i){this.chart&&(this.chart.getDatasetMeta(e).hidden=i,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return ei({onHover:(e,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:i}))},onClick:(e,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(i){return new(i||t)(D(He),D(Ri),D(rc),D(Ma,8))}}static{this.\u0275dir=nt({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[Q]})}}return t})();function oc(t,a){if(t&1){let e=B();p(0,"ion-item",2),k("click",function(){A(e);let r=y();return S(r.setPhases())}),p(1,"ion-label"),M(2),N(3,"translate"),f(),R(4,"ion-toggle",3),f()}if(t&2){let e=y();je("active",e.showPhases),m(2),Y(" ",z(3,4,"GENERAL.PHASES")," "),m(2),T("checked",e.showPhases)}}function ac(t,a){if(t&1){let e=B();p(0,"ion-item",2),k("click",function(){A(e);let r=y();return S(r.setTotal())}),p(1,"ion-label"),M(2),N(3,"translate"),f(),R(4,"ion-toggle",4),f()}if(t&2){let e=y();je("active",e.showTotal),m(2),Y(" ",z(3,4,"GENERAL.TOTAL")," "),m(2),T("checked",e.showTotal)}}var ka=(()=>{class t{constructor(e,i,r){this.service=e,this.popoverCtrl=i,this.translate=r,this.showPhases=null,this.showTotal=null}setPhases(){this.showPhases==!0?this.showPhases=!1:this.showPhases==!1&&(this.showPhases=!0),this.popoverCtrl.dismiss(this.showPhases,"Phases")}setTotal(){this.showTotal==!0?this.showTotal=!1:this.showTotal==!1&&(this.showTotal=!0),this.popoverCtrl.dismiss(this.showTotal,"Total")}static{this.\u0275fac=function(i){return new(i||t)(D(Se),D(xe),D(Ae))}}static{this.\u0275cmp=F({type:t,selectors:[["chartoptionspopover"]],inputs:{showPhases:"showPhases",showTotal:"showTotal"},standalone:!1,decls:3,vars:2,consts:[["lines","none","inset","false"],["mode","md","lines","none","button","",1,"ion-text-center",3,"active"],["mode","md","lines","none","button","",1,"ion-text-center",3,"click"],["mode","md",2,"pointer-events","none",3,"checked"],["mode","md",3,"checked"]],template:function(i,r){i&1&&(p(0,"ion-list",0),P(1,oc,5,6,"ion-item",1),P(2,ac,5,6,"ion-item",1),f()),i&2&&(m(),I(r.showPhases!==null?1:-1),m(),I(r.showTotal!==null?2:-1))},dependencies:[we,Ce,_t,sr,er,Je],encapsulation:2})}}return t})();var nc=[[["","custom-pickdate",""]],"*"],sc=["[custom-pickdate]","*"],lc=t=>({text:t});function dc(t,a){if(t&1){let e=B();p(0,"ion-buttons",6)(1,"ion-button",10),k("click",function(){A(e);let r=y(2);return S(r.presentPopover())}),R(2,"ion-icon",11),f()()}}function cc(t,a){t&1&&R(0,"pickdate")}function uc(t,a){if(t&1&&(p(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title",2),M(3),f(),p(4,"ion-buttons",3)(5,"oe-flat-button",4),R(6,"ion-icon",5),f()(),P(7,dc,3,0,"ion-buttons",6),f(),p(8,"ion-toolbar",7)(9,"ion-buttons",8)(10,"div",null,0),ri(12),f(),P(13,cc,1,0,"pickdate"),f()()(),p(14,"ion-content",9),ri(15,1),f()),t&2){let e=Hi(11),i=y();m(3),W(i.title),m(2),T("link",q(4,lc,"/device/"+i.edge.id+i.newNavigationUrlSegment+"/history")),m(2),I(i.showPopover?7:-1),m(6),I(e.children.length?-1:13)}}var Cy=(()=>{class t{constructor(e,i,r,o,n,s,l){this.service=e,this.userService=i,this.route=r,this.popoverCtrl=o,this.translate=n,this.modalCtr=s,this.ref=l,this.title="",this.showPhases=null,this.showTotal=null,this.setShowPhases=new O,this.setShowTotal=new O,this.isPopoverNeeded=!1,this.edge=null,this.showPopover=!1}ngOnInit(){this.service.getCurrentEdge().then(r=>{this.edge=r});let e=this.userService.currentUser(),i=this.userService.isNewNavigation();this.newNavigationUrlSegment=i?"/live":""}ngOnChanges(){this.ref.detectChanges(),this.checkIfPopoverNeeded()}presentPopover(e){return wt(this,null,function*(){let i=yield this.popoverCtrl.create({component:ka,event:e,componentProps:{showPhases:this.showPhases,showTotal:this.showTotal}});yield i.present(),i.onDidDismiss().then(r=>{this.showPhases=r.role=="Phases"?r.data:this.showPhases,this.showTotal=r.role=="Total"?r.data:this.showTotal,this.setShowPhases.emit(this.showPhases),this.setShowTotal.emit(this.showTotal)}),yield i.present()})}checkIfPopoverNeeded(){this.isPopoverNeeded&&(this.service.periodString==h.PeriodString.MONTH||this.service.periodString==h.PeriodString.YEAR?(this.showPopover=!1,this.setShowPhases.emit(!1),this.setShowTotal.emit(!0)):this.showPopover=!0)}static{this.\u0275fac=function(i){return new(i||t)(D(Se),D(fr),D(Ki),D(xe),D(Ae),D(dr),D(Ee))}}static{this.\u0275cmp=F({type:t,selectors:[["oe-chart"]],inputs:{title:"title",showPhases:"showPhases",showTotal:"showTotal",isPopoverNeeded:"isPopoverNeeded",period:"period"},outputs:{setShowPhases:"setShowPhases",setShowTotal:"setShowTotal"},standalone:!1,features:[Q],ngContentSelectors:sc,decls:1,vars:1,consts:[["ref",""],[2,"--background","var(--ion-color-toolbar-primary)"],[2,"color","var(--ion-title-color)"],["slot","end",2,"color","var(--ion-color-pickdate-toolbar)"],["color","light",3,"link"],["name","close-outline",2,"color","var(--ion-title-color)"],["slot","start",2,"color","var(--ion-color-pickdate-toolbar)"],["color","secondary"],[1,"ion-justify-content-center"],[2,"position","absolute","height","87%","width","100%"],[3,"click"],["name","options-outline",2,"color","var(--ion-title-color)"]],template:function(i,r){i&1&&(Yi(nc),P(0,uc,16,6)),i&2&&I(r.edge?0:-1)},dependencies:[Tt,tr,rr,ar,ve,nr,lr,io,Vt],encapsulation:2})}}return t})();function hc(t,a){if(t&1&&(p(0,"ion-row",0)(1,"ion-item",1),R(2,"ion-icon",2),p(3,"ion-label",3)(4,"ion-row",4)(5,"b"),M(6),f()(),p(7,"ion-row",5),M(8),f()()()()),t&2){let e=y();m(6),Y(" ",e.header," "),m(2),Y(" ",e.description," ")}}var Sy=(()=>{class t{constructor(){this.header=null,this.description=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=F({type:t,selectors:[["oe-chart-legend"]],inputs:{header:"header",description:"description"},standalone:!1,decls:1,vars:1,consts:[[1,"ion-justify-content-center"],["lines","none",1,"ion-text-center"],["color","primary","size","large","slot","start","name","alert-outline"],[1,"ion-text-wrap",2,"white-space","pre","width","100%"],["translate","",1,"ion-text-center"],["size","6",1,"ion-text-center",2,"white-space","initial","width","100%"]],template:function(i,r){i&1&&P(0,hc,9,2,"ion-row",0),i&2&&I(r.header&&r.description?0:-1)},dependencies:[ve,we,Ce,Mt,kt],encapsulation:2})}}return t})();var Oa=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=ee({imports:[Ve,gr,Be,be,pr.forRoot({type:"ball-clip-rotate-multiple"}),Dr,Qi,jt,Vt]})}}return t})(),jy=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=ee({imports:[St,Oa,hi,_i,Oa,_i,hi]})}}return t})();export{eo as a,ly as b,dy as c,cy as d,Ke as e,io as f,Cy as g,pc as h,Sy as i,Dr as j,jt as k,_i as l,Oa as m,jy as n};
